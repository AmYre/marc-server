import{_ as Wl,S as Hl,r as m,B as Gl,d as la,j as d,a as E,b as Z,c as ue,e as me,f as ca,R as Oe,g as D,F as q,D as Kl,s as X,h as H,i as Yl,P as ln,k as It,l as Bt,m as Le,u as cn,n as J,o as $l,p as Xl,q as ql,t as ua,v as da,w as un,x as Zl,y as Jl,z as _t,A as _e,C as Yn,E as Ql,G as ec,H as tc,I as nc,J as rc,K as bt,L as fa,M as pa,N as oc,O as yr,Q as Ye,T as ic,U as ac,V as po,W as sc,X as lc,Y as cc,Z as Me,$ as ha,a0 as k,a1 as F,a2 as ye,a3 as br,a4 as xr,a5 as ma,a6 as uc,a7 as ct,a8 as xe,a9 as dc,aa as Mt,ab as Pr,ac as re,ad as va,ae as xt,af as dn,ag as fc,ah as ga,ai as pc,aj as hc,ak as mc,al as vc,am as Re,an as Rt,ao as gc,ap as fn,aq as yc,ar as ya,as as bc,at as xc,au as At,av as Pc,aw as Sc,ax as Sr,ay as $n,az as ba,aA as wc,aB as Cc,aC as Tc,aD as Ec,aE as Ic,aF as _c,aG as Mc,aH as Rc,aI as Ac,aJ as Ue,aK as ke,aL as it,aM as xa,aN as pn,aO as Pa,aP as Ve,aQ as Dc,aR as wr,aS as Vc,aT as Sa,aU as Oc,aV as wa,aW as Xn,aX as Lc,aY as jc,aZ as kc,a_ as Ca,a$ as Fc,b0 as Bc,b1 as Ta,b2 as Nc,b3 as zc,b4 as Ea,b5 as Cr,b6 as Uc,b7 as Ia,b8 as Wc,b9 as ho,ba as Hc,bb as Tr,bc as Gc,bd as Vn,be as Kc,bf as Yc,bg as $c,bh as mo,bi as Xc,bj as _a,bk as On,bl as qc,bm as vo,bn as qn,bo as Ma,bp as Zc,bq as Jc,br as Qc,bs as eu,bt as tu,bu as nu,bv as ru,bw as ou,bx as iu,by as Ra,bz as Aa,bA as au,bB as su,bC as lu,bD as cu,bE as uu,bF as du,bG as Er,bH as fu,bI as pu,bJ as hu,bK as Zn,bL as mu,bM as vu,bN as gu,bO as yu,bP as bu,bQ as xu,bR as Pu,bS as Su,bT as wu,bU as Cu,bV as Tu,bW as Jn,bX as Da,bY as Va,bZ as Eu,b_ as Iu,b$ as _u,c0 as Mu,c1 as Ru,c2 as Oa,c3 as go,c4 as Au,c5 as Du,c6 as Ln,c7 as yo,c8 as Vu,c9 as bo,ca as Ou}from"./sanity.74416068.js";import{h as Lu,j as ju}from"./index.0900f6a6.js";function ku(){return function(e){return e.lift(new Fu)}}var Fu=function(){function e(){}return e.prototype.call=function(t,n){return n.subscribe(new Bu(t))},e}(),Bu=function(e){Wl(t,e);function t(n){var r=e.call(this,n)||this;return r.hasPrev=!1,r}return t.prototype._next=function(n){var r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)},t}(Hl);function Nu(e,t){var n=m.exports.useCallback(function(){var i=new Gl(e),s=i.asObservable().pipe(la());return[t?s.pipe(t):s,i]},[]),r=m.exports.useRef();r.current||(r.current=n());var o=r.current[0];m.exports.useEffect(function(){if(!!r.current){var i=r.current,s=i[1];s.next(e)}},[e,r]);var a=m.exports.useRef(!1);return m.exports.useEffect(function(){return a.current&&(r.current||(r.current=n()),a.current=!1),function(){if(!!r.current){a.current=!0;var i=r.current,s=i[1];s.complete(),r.current=void 0}}},[]),o}var be=function(e){return{isEnabled:function(t){return e.some(function(n){return!!t[n]})}}},Pt={measureLayout:be(["layout","layoutId","drag"]),animation:be(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:be(["exit"]),drag:be(["drag","dragControls"]),focus:be(["whileFocus"]),hover:be(["whileHover","onHoverStart","onHoverEnd"]),tap:be(["whileTap","onTap","onTapStart","onTapCancel"]),pan:be(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:be(["whileInView","onViewportEnter","onViewportLeave"])};function zu(e){for(var t in e)e[t]!==null&&(t==="projectionNodeConstructor"?Pt.projectionNodeConstructor=e[t]:Pt[t].Component=e[t])}var Uu=function(){},qt=function(){},La=m.exports.createContext({strict:!1}),ja=Object.keys(Pt),Wu=ja.length;function Hu(e,t,n){var r=[];if(m.exports.useContext(La),!t)return null;for(var o=0;o<Wu;o++){var a=ja[o],i=Pt[a],s=i.isEnabled,l=i.Component;s(e)&&l&&r.push(d(l,{...E({key:a},e,{visualElement:t})}))}return r}var Ir=m.exports.createContext({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),hn=m.exports.createContext({});function Gu(){return m.exports.useContext(hn).visualElement}var mn=m.exports.createContext(null),Dt=typeof window<"u",xo=Dt?m.exports.useLayoutEffect:m.exports.useEffect,Qn={current:null},ka=!1;function Ku(){if(ka=!0,!(typeof window>"u"))if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return Qn.current=e.matches};e.addListener(t),t()}else Qn.current=!1}function Yu(){!ka&&Ku();var e=Z(m.exports.useState(Qn.current),1),t=e[0];return t}function $u(){var e=Yu(),t=m.exports.useContext(Ir).reducedMotion;return t==="never"?!1:t==="always"?!0:e}function Xu(e,t,n,r){var o=m.exports.useContext(La),a=Gu(),i=m.exports.useContext(mn),s=$u(),l=m.exports.useRef(void 0);r||(r=o.renderer),!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceId:i==null?void 0:i.id,blockInitialAnimation:(i==null?void 0:i.initial)===!1,shouldReduceMotion:s}));var c=l.current;return xo(function(){c==null||c.syncRender()}),m.exports.useEffect(function(){var u;(u=c==null?void 0:c.animationState)===null||u===void 0||u.animateChanges()}),xo(function(){return function(){return c==null?void 0:c.notifyUnmount()}},[]),c}function Ze(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function qu(e,t,n){return m.exports.useCallback(function(r){var o;r&&((o=e.mount)===null||o===void 0||o.call(e,r)),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ze(n)&&(n.current=r))},[t])}function Fa(e){return Array.isArray(e)}function fe(e){return typeof e=="string"||Fa(e)}function Zu(e){var t={};return e.forEachValue(function(n,r){return t[r]=n.get()}),t}function Ju(e){var t={};return e.forEachValue(function(n,r){return t[r]=n.getVelocity()}),t}function Ba(e,t,n,r,o){var a;return r===void 0&&(r={}),o===void 0&&(o={}),typeof t=="function"&&(t=t(n!=null?n:e.custom,r,o)),typeof t=="string"&&(t=(a=e.variants)===null||a===void 0?void 0:a[t]),typeof t=="function"&&(t=t(n!=null?n:e.custom,r,o)),t}function vn(e,t,n){var r=e.getProps();return Ba(r,t,n!=null?n:r.custom,Zu(e),Ju(e))}function gn(e){var t;return typeof((t=e.animate)===null||t===void 0?void 0:t.start)=="function"||fe(e.initial)||fe(e.animate)||fe(e.whileHover)||fe(e.whileDrag)||fe(e.whileTap)||fe(e.whileFocus)||fe(e.exit)}function Na(e){return Boolean(gn(e)||e.variants)}function Qu(e,t){if(gn(e)){var n=e.initial,r=e.animate;return{initial:n===!1||fe(n)?n:void 0,animate:fe(r)?r:void 0}}return e.inherit!==!1?t:{}}function ed(e){var t=Qu(e,m.exports.useContext(hn)),n=t.initial,r=t.animate;return m.exports.useMemo(function(){return{initial:n,animate:r}},[Po(n),Po(r)])}function Po(e){return Array.isArray(e)?e.join(" "):e}function yn(e){var t=m.exports.useRef(null);return t.current===null&&(t.current=e()),t.current}const za=1/60*1e3,td=typeof performance<"u"?()=>performance.now():()=>Date.now(),Ua=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(td()),za);function nd(e){let t=[],n=[],r=0,o=!1,a=!1;const i=new WeakSet,s={schedule:(l,c=!1,u=!1)=>{const p=u&&o,h=p?t:n;return c&&i.add(l),h.indexOf(l)===-1&&(h.push(l),p&&o&&(r=t.length)),l},cancel:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),i.delete(l)},process:l=>{if(o){a=!0;return}if(o=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let c=0;c<r;c++){const u=t[c];u(l),i.has(u)&&(s.schedule(u),e())}o=!1,a&&(a=!1,s.process(l))}};return s}const rd=40;let er=!0,St=!1,tr=!1;const et={delta:0,timestamp:0},Vt=["read","update","preRender","render","postRender"],bn=Vt.reduce((e,t)=>(e[t]=nd(()=>St=!0),e),{}),ve=Vt.reduce((e,t)=>{const n=bn[t];return e[t]=(r,o=!1,a=!1)=>(St||id(),n.schedule(r,o,a)),e},{}),nt=Vt.reduce((e,t)=>(e[t]=bn[t].cancel,e),{}),jn=Vt.reduce((e,t)=>(e[t]=()=>bn[t].process(et),e),{}),od=e=>bn[e].process(et),Wa=e=>{St=!1,et.delta=er?za:Math.max(Math.min(e-et.timestamp,rd),1),et.timestamp=e,tr=!0,Vt.forEach(od),tr=!1,St&&(er=!1,Ua(Wa))},id=()=>{St=!0,er=!0,tr||Ua(Wa)},Zt=()=>et,Jt=(e,t,n)=>Math.min(Math.max(n,e),t),kn=.001,ad=.01,So=10,sd=.05,ld=1;function cd({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,a;Uu(e<=So*1e3);let i=1-t;i=Jt(sd,ld,i),e=Jt(ad,So,e/1e3),i<1?(o=c=>{const u=c*i,p=u*e,h=u-n,f=nr(c,i),v=Math.exp(-p);return kn-h/f*v},a=c=>{const p=c*i*e,h=p*n+n,f=Math.pow(i,2)*Math.pow(c,2)*e,v=Math.exp(-p),g=nr(Math.pow(c,2),i);return(-o(c)+kn>0?-1:1)*((h-f)*v)/g}):(o=c=>{const u=Math.exp(-c*e),p=(c-n)*e+1;return-kn+u*p},a=c=>{const u=Math.exp(-c*e),p=(n-c)*(e*e);return u*p});const s=5/e,l=dd(o,a,s);if(e=e*1e3,isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:e}}}const ud=12;function dd(e,t,n){let r=n;for(let o=1;o<ud;o++)r=r-e(r)/t(r);return r}function nr(e,t){return e*Math.sqrt(1-t*t)}const fd=["duration","bounce"],pd=["stiffness","damping","mass"];function wo(e,t){return t.some(n=>e[n]!==void 0)}function hd(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!wo(e,pd)&&wo(e,fd)){const n=cd(e);t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function _r(e){var{from:t=0,to:n=1,restSpeed:r=2,restDelta:o}=e,a=ue(e,["from","to","restSpeed","restDelta"]);const i={done:!1,value:t};let{stiffness:s,damping:l,mass:c,velocity:u,duration:p,isResolvedFromDuration:h}=hd(a),f=Co,v=Co;function g(){const P=u?-(u/1e3):0,y=n-t,b=l/(2*Math.sqrt(s*c)),x=Math.sqrt(s/c)/1e3;if(o===void 0&&(o=Math.min(Math.abs(n-t)/100,.4)),b<1){const S=nr(x,b);f=w=>{const C=Math.exp(-b*x*w);return n-C*((P+b*x*y)/S*Math.sin(S*w)+y*Math.cos(S*w))},v=w=>{const C=Math.exp(-b*x*w);return b*x*C*(Math.sin(S*w)*(P+b*x*y)/S+y*Math.cos(S*w))-C*(Math.cos(S*w)*(P+b*x*y)-S*y*Math.sin(S*w))}}else if(b===1)f=S=>n-Math.exp(-x*S)*(y+(P+x*y)*S);else{const S=x*Math.sqrt(b*b-1);f=w=>{const C=Math.exp(-b*x*w),T=Math.min(S*w,300);return n-C*((P+b*x*y)*Math.sinh(T)+S*y*Math.cosh(T))/S}}}return g(),{next:P=>{const y=f(P);if(h)i.done=P>=p;else{const b=v(P)*1e3,x=Math.abs(b)<=r,S=Math.abs(n-y)<=o;i.done=x&&S}return i.value=i.done?n:y,i},flipTarget:()=>{u=-u,[t,n]=[n,t],g()}}}_r.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const Co=e=>0,wt=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},$=(e,t,n)=>-n*e+n*t+e,Ha=(e,t)=>n=>Math.max(Math.min(n,t),e),ft=e=>e%1?Number(e.toFixed(5)):e,Ct=/(-)?([\d]*\.?[\d])+/g,rr=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,md=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Ot(e){return typeof e=="string"}const We={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},pt=Object.assign(Object.assign({},We),{transform:Ha(0,1)}),Nt=Object.assign(Object.assign({},We),{default:1}),Lt=e=>({test:t=>Ot(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ee=Lt("deg"),ge=Lt("%"),O=Lt("px"),vd=Lt("vh"),gd=Lt("vw"),To=Object.assign(Object.assign({},ge),{parse:e=>ge.parse(e)/100,transform:e=>ge.transform(e*100)}),Mr=(e,t)=>n=>Boolean(Ot(n)&&md.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Ga=(e,t,n)=>r=>{if(!Ot(r))return r;const[o,a,i,s]=r.match(Ct);return{[e]:parseFloat(o),[t]:parseFloat(a),[n]:parseFloat(i),alpha:s!==void 0?parseFloat(s):1}},ze={test:Mr("hsl","hue"),parse:Ga("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ge.transform(ft(t))+", "+ge.transform(ft(n))+", "+ft(pt.transform(r))+")"},yd=Ha(0,255),Fn=Object.assign(Object.assign({},We),{transform:e=>Math.round(yd(e))}),Ae={test:Mr("rgb","red"),parse:Ga("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Fn.transform(e)+", "+Fn.transform(t)+", "+Fn.transform(n)+", "+ft(pt.transform(r))+")"};function bd(e){let t="",n="",r="",o="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),o=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),o=e.substr(4,1),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const or={test:Mr("#"),parse:bd,transform:Ae.transform},ae={test:e=>Ae.test(e)||or.test(e)||ze.test(e),parse:e=>Ae.test(e)?Ae.parse(e):ze.test(e)?ze.parse(e):or.parse(e),transform:e=>Ot(e)?e:e.hasOwnProperty("red")?Ae.transform(e):ze.transform(e)},Ka="${c}",Ya="${n}";function xd(e){var t,n,r,o;return isNaN(e)&&Ot(e)&&((n=(t=e.match(Ct))===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0)+((o=(r=e.match(rr))===null||r===void 0?void 0:r.length)!==null&&o!==void 0?o:0)>0}function $a(e){typeof e=="number"&&(e=`${e}`);const t=[];let n=0;const r=e.match(rr);r&&(n=r.length,e=e.replace(rr,Ka),t.push(...r.map(ae.parse)));const o=e.match(Ct);return o&&(e=e.replace(Ct,Ya),t.push(...o.map(We.parse))),{values:t,numColors:n,tokenised:e}}function Xa(e){return $a(e).values}function qa(e){const{values:t,numColors:n,tokenised:r}=$a(e),o=t.length;return a=>{let i=r;for(let s=0;s<o;s++)i=i.replace(s<n?Ka:Ya,s<n?ae.transform(a[s]):ft(a[s]));return i}}const Pd=e=>typeof e=="number"?0:e;function Sd(e){const t=Xa(e);return qa(e)(t.map(Pd))}const Pe={test:xd,parse:Xa,createTransformer:qa,getAnimatableNone:Sd},wd=new Set(["brightness","contrast","saturate","opacity"]);function Cd(e){let[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ct)||[];if(!r)return e;const o=n.replace(r,"");let a=wd.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+o+")"}const Td=/([a-z-]*)\(.*?\)/g,ir=Object.assign(Object.assign({},Pe),{getAnimatableNone:e=>{const t=e.match(Td);return t?t.map(Cd).join(" "):e}});function Bn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Eo({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,a=0,i=0;if(!t)o=a=i=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;o=Bn(l,s,e+1/3),a=Bn(l,s,e),i=Bn(l,s,e-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(i*255),alpha:r}}const Ed=(e,t,n)=>{const r=e*e,o=t*t;return Math.sqrt(Math.max(0,n*(o-r)+r))},Id=[or,Ae,ze],Io=e=>Id.find(t=>t.test(e)),Za=(e,t)=>{let n=Io(e),r=Io(t),o=n.parse(e),a=r.parse(t);n===ze&&(o=Eo(o),n=Ae),r===ze&&(a=Eo(a),r=Ae);const i=Object.assign({},o);return s=>{for(const l in i)l!=="alpha"&&(i[l]=Ed(o[l],a[l],s));return i.alpha=$(o.alpha,a.alpha,s),n.transform(i)}},ar=e=>typeof e=="number",_d=(e,t)=>n=>t(e(n)),xn=(...e)=>e.reduce(_d);function Ja(e,t){return ar(e)?n=>$(e,t,n):ae.test(e)?Za(e,t):es(e,t)}const Qa=(e,t)=>{const n=[...e],r=n.length,o=e.map((a,i)=>Ja(a,t[i]));return a=>{for(let i=0;i<r;i++)n[i]=o[i](a);return n}},Md=(e,t)=>{const n=Object.assign(Object.assign({},e),t),r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Ja(e[o],t[o]));return o=>{for(const a in r)n[a]=r[a](o);return n}};function _o(e){const t=Pe.parse(e),n=t.length;let r=0,o=0,a=0;for(let i=0;i<n;i++)r||typeof t[i]=="number"?r++:t[i].hue!==void 0?a++:o++;return{parsed:t,numNumbers:r,numRGB:o,numHSL:a}}const es=(e,t)=>{const n=Pe.createTransformer(t),r=_o(e),o=_o(t);return r.numHSL===o.numHSL&&r.numRGB===o.numRGB&&r.numNumbers>=o.numNumbers?xn(Qa(r.parsed,o.parsed),n):i=>`${i>0?t:e}`},Rd=(e,t)=>n=>$(e,t,n);function Ad(e){if(typeof e=="number")return Rd;if(typeof e=="string")return ae.test(e)?Za:es;if(Array.isArray(e))return Qa;if(typeof e=="object")return Md}function Dd(e,t,n){const r=[],o=n||Ad(e[0]),a=e.length-1;for(let i=0;i<a;i++){let s=o(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]:t;s=xn(l,s)}r.push(s)}return r}function Vd([e,t],[n]){return r=>n(wt(e,t,r))}function Od(e,t){const n=e.length,r=n-1;return o=>{let a=0,i=!1;if(o<=e[0]?i=!0:o>=e[r]&&(a=r-1,i=!0),!i){let l=1;for(;l<n&&!(e[l]>o||l===r);l++);a=l-1}const s=wt(e[a],e[a+1],o);return t[a](s)}}function ts(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const a=e.length;qt(a===t.length),qt(!r||!Array.isArray(r)||r.length===a-1),e[0]>e[a-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const i=Dd(t,r,o),s=a===2?Vd(e,i):Od(e,i);return n?l=>s(Jt(e[0],e[a-1],l)):s}const Pn=e=>t=>1-e(1-t),Rr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ld=e=>t=>Math.pow(t,e),ns=e=>t=>t*t*((e+1)*t-e),jd=e=>{const t=ns(e);return n=>(n*=2)<1?.5*t(n):.5*(2-Math.pow(2,-10*(n-1)))},rs=1.525,kd=4/11,Fd=8/11,Bd=9/10,Ar=e=>e,Dr=Ld(2),Nd=Pn(Dr),os=Rr(Dr),is=e=>1-Math.sin(Math.acos(e)),Vr=Pn(is),zd=Rr(Vr),Or=ns(rs),Ud=Pn(Or),Wd=Rr(Or),Hd=jd(rs),Gd=4356/361,Kd=35442/1805,Yd=16061/1805,Qt=e=>{if(e===1||e===0)return e;const t=e*e;return e<kd?7.5625*t:e<Fd?9.075*t-9.9*e+3.4:e<Bd?Gd*t-Kd*e+Yd:10.8*e*e-20.52*e+10.72},$d=Pn(Qt),Xd=e=>e<.5?.5*(1-Qt(1-e*2)):.5*Qt(e*2-1)+.5;function qd(e,t){return e.map(()=>t||os).splice(0,e.length-1)}function Zd(e){const t=e.length;return e.map((n,r)=>r!==0?r/(t-1):0)}function Jd(e,t){return e.map(n=>n*t)}function Kt({from:e=0,to:t=1,ease:n,offset:r,duration:o=300}){const a={done:!1,value:e},i=Array.isArray(t)?t:[e,t],s=Jd(r&&r.length===i.length?r:Zd(i),o);function l(){return ts(s,i,{ease:Array.isArray(n)?n:qd(i,n)})}let c=l();return{next:u=>(a.value=c(u),a.done=u>=o,a),flipTarget:()=>{i.reverse(),c=l()}}}function Qd({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:o=.5,modifyTarget:a}){const i={done:!1,value:t};let s=n*e;const l=t+s,c=a===void 0?l:a(l);return c!==l&&(s=c-t),{next:u=>{const p=-s*Math.exp(-u/r);return i.done=!(p>o||p<-o),i.value=i.done?c:c+p,i},flipTarget:()=>{}}}const Mo={keyframes:Kt,spring:_r,decay:Qd};function ef(e){if(Array.isArray(e.to))return Kt;if(Mo[e.type])return Mo[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Kt:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?_r:Kt}function as(e,t,n=0){return e-t-n}function tf(e,t,n=0,r=!0){return r?as(t+-e,t,n):t-(e-t)+n}function nf(e,t,n,r){return r?e>=t+n:e<=-n}const rf=e=>{const t=({delta:n})=>e(n);return{start:()=>ve.update(t,!0),stop:()=>nt.update(t)}};function ss(e){var t,n,{from:r,autoplay:o=!0,driver:a=rf,elapsed:i=0,repeat:s=0,repeatType:l="loop",repeatDelay:c=0,onPlay:u,onStop:p,onComplete:h,onRepeat:f,onUpdate:v}=e,g=ue(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:P}=g,y,b=0,x=g.duration,S,w=!1,C=!0,T;const I=ef(g);!((n=(t=I).needsInterpolation)===null||n===void 0)&&n.call(t,r,P)&&(T=ts([0,100],[r,P],{clamp:!1}),r=0,P=100);const M=I(Object.assign(Object.assign({},g),{from:r,to:P}));function V(){b++,l==="reverse"?(C=b%2===0,i=tf(i,x,c,C)):(i=as(i,x,c),l==="mirror"&&M.flipTarget()),w=!1,f&&f()}function L(){y.stop(),h&&h()}function N(B){if(C||(B=-B),i+=B,!w){const W=M.next(Math.max(0,i));S=W.value,T&&(S=T(S)),w=C?W.done:i<=0}v==null||v(S),w&&(b===0&&(x!=null||(x=i)),b<s?nf(i,x,c,C)&&V():L())}function j(){u==null||u(),y=a(N),y.start()}return o&&j(),{stop:()=>{p==null||p(),y.stop()}}}function ls(e,t){return t?e*(1e3/t):0}function of({from:e=0,velocity:t=0,min:n,max:r,power:o=.8,timeConstant:a=750,bounceStiffness:i=500,bounceDamping:s=10,restDelta:l=1,modifyTarget:c,driver:u,onUpdate:p,onComplete:h,onStop:f}){let v;function g(x){return n!==void 0&&x<n||r!==void 0&&x>r}function P(x){return n===void 0?r:r===void 0||Math.abs(n-x)<Math.abs(r-x)?n:r}function y(x){v==null||v.stop(),v=ss(Object.assign(Object.assign({},x),{driver:u,onUpdate:S=>{var w;p==null||p(S),(w=x.onUpdate)===null||w===void 0||w.call(x,S)},onComplete:h,onStop:f}))}function b(x){y(Object.assign({type:"spring",stiffness:i,damping:s,restDelta:l},x))}if(g(e))b({from:e,velocity:t,to:P(e)});else{let x=o*t+e;typeof c<"u"&&(x=c(x));const S=P(x),w=S===n?-1:1;let C,T;const I=M=>{C=T,T=M,t=ls(M-C,Zt().delta),(w===1&&M>S||w===-1&&M<S)&&b({from:M,to:S,velocity:t})};y({type:"decay",from:e,velocity:t,timeConstant:a,power:o,restDelta:l,modifyTarget:c,onUpdate:g(x)?I:void 0})}return{stop:()=>v==null?void 0:v.stop()}}const sr=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),Ro=e=>sr(e)&&e.hasOwnProperty("z"),zt=(e,t)=>Math.abs(e-t);function cs(e,t){if(ar(e)&&ar(t))return zt(e,t);if(sr(e)&&sr(t)){const n=zt(e.x,t.x),r=zt(e.y,t.y),o=Ro(e)&&Ro(t)?zt(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(o,2))}}const us=(e,t)=>1-3*t+3*e,ds=(e,t)=>3*t-6*e,fs=e=>3*e,en=(e,t,n)=>((us(t,n)*e+ds(t,n))*e+fs(t))*e,ps=(e,t,n)=>3*us(t,n)*e*e+2*ds(t,n)*e+fs(t),af=1e-7,sf=10;function lf(e,t,n,r,o){let a,i,s=0;do i=t+(n-t)/2,a=en(i,r,o)-e,a>0?n=i:t=i;while(Math.abs(a)>af&&++s<sf);return i}const cf=8,uf=.001;function df(e,t,n,r){for(let o=0;o<cf;++o){const a=ps(t,n,r);if(a===0)return t;const i=en(t,n,r)-e;t-=i/a}return t}const Yt=11,Ut=1/(Yt-1);function ff(e,t,n,r){if(e===t&&n===r)return Ar;const o=new Float32Array(Yt);for(let i=0;i<Yt;++i)o[i]=en(i*Ut,e,n);function a(i){let s=0,l=1;const c=Yt-1;for(;l!==c&&o[l]<=i;++l)s+=Ut;--l;const u=(i-o[l])/(o[l+1]-o[l]),p=s+u*Ut,h=ps(p,e,n);return h>=uf?df(i,p,e,n):h===0?p:lf(i,s,s+Ut,e,n)}return i=>i===0||i===1?i:en(a(i),t,r)}function Lr(e,t){e.indexOf(t)===-1&&e.push(t)}function jr(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var ht=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(t){var n=this;return Lr(this.subscriptions,t),function(){return jr(n.subscriptions,t)}},e.prototype.notify=function(t,n,r){var o=this.subscriptions.length;if(!!o)if(o===1)this.subscriptions[0](t,n,r);else for(var a=0;a<o;a++){var i=this.subscriptions[a];i&&i(t,n,r)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),pf=function(e){return!isNaN(parseFloat(e))},hf=function(){function e(t){var n=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new ht,this.velocityUpdateSubscribers=new ht,this.renderSubscribers=new ht,this.canTrackVelocity=!1,this.updateAndNotify=function(r,o){o===void 0&&(o=!0),n.prev=n.current,n.current=r;var a=Zt(),i=a.delta,s=a.timestamp;n.lastUpdated!==s&&(n.timeDelta=i,n.lastUpdated=s,ve.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),o&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return ve.postRender(n.velocityCheck)},this.velocityCheck=function(r){var o=r.timestamp;o!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=pf(this.current)}return e.prototype.onChange=function(t){return this.updateSubscribers.add(t)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(t){return t(this.get()),this.renderSubscribers.add(t)},e.prototype.attach=function(t){this.passiveEffect=t},e.prototype.set=function(t,n){n===void 0&&(n=!0),!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?ls(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(t){var n=this;return this.stop(),new Promise(function(r){n.hasAnimated=!0,n.stopAnimation=t(r)}).then(function(){return n.clearAnimation()})},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function rt(e){return new hf(e)}var Se=function(e){return Boolean(e!==null&&typeof e=="object"&&e.getVelocity)},tn=function(e){return e*1e3},mf={linear:Ar,easeIn:Dr,easeInOut:os,easeOut:Nd,circIn:is,circInOut:zd,circOut:Vr,backIn:Or,backInOut:Wd,backOut:Ud,anticipate:Hd,bounceIn:$d,bounceInOut:Xd,bounceOut:Qt},Ao=function(e){if(Array.isArray(e)){qt(e.length===4);var t=Z(e,4),n=t[0],r=t[1],o=t[2],a=t[3];return ff(n,r,o,a)}else if(typeof e=="string")return mf[e];return e},vf=function(e){return Array.isArray(e)&&typeof e[0]!="number"},Do=function(e,t){return e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&Pe.test(t)&&!t.startsWith("url("))},Tt=function(e){return Array.isArray(e)},Be=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},Wt=function(e){return{type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}},Nn=function(){return{type:"keyframes",ease:"linear",duration:.3}},gf=function(e){return{type:"keyframes",duration:.8,values:e}},Vo={x:Be,y:Be,z:Be,rotate:Be,rotateX:Be,rotateY:Be,rotateZ:Be,scaleX:Wt,scaleY:Wt,scale:Wt,opacity:Nn,backgroundColor:Nn,color:Nn,default:Wt},yf=function(e,t){var n;return Tt(t)?n=gf:n=Vo[e]||Vo.default,E({to:t},n(t))},Oo=E(E({},We),{transform:Math.round}),hs={borderWidth:O,borderTopWidth:O,borderRightWidth:O,borderBottomWidth:O,borderLeftWidth:O,borderRadius:O,radius:O,borderTopLeftRadius:O,borderTopRightRadius:O,borderBottomRightRadius:O,borderBottomLeftRadius:O,width:O,maxWidth:O,height:O,maxHeight:O,size:O,top:O,right:O,bottom:O,left:O,padding:O,paddingTop:O,paddingRight:O,paddingBottom:O,paddingLeft:O,margin:O,marginTop:O,marginRight:O,marginBottom:O,marginLeft:O,rotate:Ee,rotateX:Ee,rotateY:Ee,rotateZ:Ee,scale:Nt,scaleX:Nt,scaleY:Nt,scaleZ:Nt,skew:Ee,skewX:Ee,skewY:Ee,distance:O,translateX:O,translateY:O,translateZ:O,x:O,y:O,z:O,perspective:O,transformPerspective:O,opacity:pt,originX:To,originY:To,originZ:O,zIndex:Oo,fillOpacity:pt,strokeOpacity:pt,numOctaves:Oo},bf=E(E({},hs),{color:ae,backgroundColor:ae,outlineColor:ae,fill:ae,stroke:ae,borderColor:ae,borderTopColor:ae,borderRightColor:ae,borderBottomColor:ae,borderLeftColor:ae,filter:ir,WebkitFilter:ir}),kr=function(e){return bf[e]};function Fr(e,t){var n,r=kr(e);return r!==ir&&(r=Pe),(n=r.getAnimatableNone)===null||n===void 0?void 0:n.call(r,t)}var xf={current:!1},Pf=function(e){return Boolean(e&&typeof e=="object"&&e.mix&&e.toValue)},ms=function(e){return Tt(e)?e[e.length-1]||0:e};function Sf(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=ue(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}function wf(e){var t=e.ease,n=e.times,r=e.yoyo,o=e.flip,a=e.loop,i=ue(e,["ease","times","yoyo","flip","loop"]),s=E({},i);return n&&(s.offset=n),i.duration&&(s.duration=tn(i.duration)),i.repeatDelay&&(s.repeatDelay=tn(i.repeatDelay)),t&&(s.ease=vf(t)?t.map(Ao):Ao(t)),i.type==="tween"&&(s.type="keyframes"),(r||a||o)&&(r?s.repeatType="reverse":a?s.repeatType="loop":o&&(s.repeatType="mirror"),s.repeat=a||r||o||i.repeat),i.type!=="spring"&&(s.type="keyframes"),s}function Cf(e,t){var n,r,o=Br(e,t)||{};return(r=(n=o.delay)!==null&&n!==void 0?n:e.delay)!==null&&r!==void 0?r:0}function Tf(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=me([],Z(e.to),!1),e.to[0]=e.from),e}function Ef(e,t,n){var r;return Array.isArray(t.to)&&((r=e.duration)!==null&&r!==void 0||(e.duration=.8)),Tf(t),Sf(e)||(e=E(E({},e),yf(n,t.to))),E(E({},t),wf(e))}function If(e,t,n,r,o){var a,i=Br(r,e),s=(a=i.from)!==null&&a!==void 0?a:t.get(),l=Do(e,n);s==="none"&&l&&typeof n=="string"?s=Fr(e,n):Lo(s)&&typeof n=="string"?s=jo(n):!Array.isArray(n)&&Lo(n)&&typeof s=="string"&&(n=jo(s));var c=Do(e,s);function u(){var h={from:s,to:n,velocity:t.getVelocity(),onComplete:o,onUpdate:function(f){return t.set(f)}};return i.type==="inertia"||i.type==="decay"?of(E(E({},h),i)):ss(E(E({},Ef(i,h,e)),{onUpdate:function(f){var v;h.onUpdate(f),(v=i.onUpdate)===null||v===void 0||v.call(i,f)},onComplete:function(){var f;h.onComplete(),(f=i.onComplete)===null||f===void 0||f.call(i)}}))}function p(){var h,f,v=ms(n);return t.set(v),o(),(h=i==null?void 0:i.onUpdate)===null||h===void 0||h.call(i,v),(f=i==null?void 0:i.onComplete)===null||f===void 0||f.call(i),{stop:function(){}}}return!c||!l||i.type===!1?p:u}function Lo(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function jo(e){return typeof e=="number"?0:Fr("",e)}function Br(e,t){return e[t]||e.default||e}function Nr(e,t,n,r){return r===void 0&&(r={}),xf.current&&(r={type:!1}),t.start(function(o){var a,i,s=If(e,t,n,r,o),l=Cf(r,e),c=function(){return i=s()};return l?a=window.setTimeout(c,tn(l)):c(),function(){clearTimeout(a),i==null||i.stop()}})}function _f(e,t,n){n===void 0&&(n={});var r=Se(e)?e:rt(e);return Nr("",r,t,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}var vs=["TopLeft","TopRight","BottomLeft","BottomRight"],Mf=vs.length,ko=function(e){return typeof e=="string"?parseFloat(e):e},Fo=function(e){return typeof e=="number"||O.test(e)};function Rf(e,t,n,r,o,a){var i,s,l,c;o?(e.opacity=$(0,(i=n.opacity)!==null&&i!==void 0?i:1,Af(r)),e.opacityExit=$((s=t.opacity)!==null&&s!==void 0?s:1,0,Df(r))):a&&(e.opacity=$((l=t.opacity)!==null&&l!==void 0?l:1,(c=n.opacity)!==null&&c!==void 0?c:1,r));for(var u=0;u<Mf;u++){var p="border".concat(vs[u],"Radius"),h=Bo(t,p),f=Bo(n,p);if(!(h===void 0&&f===void 0)){h||(h=0),f||(f=0);var v=h===0||f===0||Fo(h)===Fo(f);v?(e[p]=Math.max($(ko(h),ko(f),r),0),(ge.test(f)||ge.test(h))&&(e[p]+="%")):e[p]=f}}(t.rotate||n.rotate)&&(e.rotate=$(t.rotate||0,n.rotate||0,r))}function Bo(e,t){var n;return(n=e[t])!==null&&n!==void 0?n:e.borderRadius}var Af=gs(0,.5,Vr),Df=gs(.5,.95,Ar);function gs(e,t,n){return function(r){return r<e?0:r>t?1:n(wt(e,t,r))}}function No(e,t){e.min=t.min,e.max=t.max}function pe(e,t){No(e.x,t.x),No(e.y,t.y)}function zn(e){return e===void 0||e===1}function ys(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!zn(t)||!zn(n)||!zn(r)}function Ie(e){return ys(e)||zo(e.x)||zo(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function zo(e){return e&&e!=="0%"}function nn(e,t,n){var r=e-n,o=t*r;return n+o}function Uo(e,t,n,r,o){return o!==void 0&&(e=nn(e,o,r)),nn(e,n,r)+t}function lr(e,t,n,r,o){t===void 0&&(t=0),n===void 0&&(n=1),e.min=Uo(e.min,t,n,r,o),e.max=Uo(e.max,t,n,r,o)}function bs(e,t){var n=t.x,r=t.y;lr(e.x,n.translate,n.scale,n.originPoint),lr(e.y,r.translate,r.scale,r.originPoint)}function Vf(e,t,n,r){var o,a;r===void 0&&(r=!1);var i=n.length;if(!!i){t.x=t.y=1;for(var s,l,c=0;c<i;c++)s=n[c],l=s.projectionDelta,((a=(o=s.instance)===null||o===void 0?void 0:o.style)===null||a===void 0?void 0:a.display)!=="contents"&&(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Qe(e,{x:-s.scroll.x,y:-s.scroll.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,bs(e,l)),r&&Ie(s.latestValues)&&Qe(e,s.latestValues))}}function Je(e,t){e.min=e.min+t,e.max=e.max+t}function Wo(e,t,n){var r=Z(n,3),o=r[0],a=r[1],i=r[2],s=t[i]!==void 0?t[i]:.5,l=$(e.min,e.max,s);lr(e,t[o],t[a],l,t.scale)}var Of=["x","scaleX","originX"],Lf=["y","scaleY","originY"];function Qe(e,t){Wo(e.x,t,Of),Wo(e.y,t,Lf)}function we(e){return e.max-e.min}function Ho(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=.01),cs(e,t)<n}function Go(e,t,n,r){r===void 0&&(r=.5),e.origin=r,e.originPoint=$(t.min,t.max,e.origin),e.scale=we(n)/we(t),(Ho(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=$(n.min,n.max,e.origin)-e.originPoint,(Ho(e.translate)||isNaN(e.translate))&&(e.translate=0)}function mt(e,t,n,r){Go(e.x,t.x,n.x,r==null?void 0:r.originX),Go(e.y,t.y,n.y,r==null?void 0:r.originY)}function Ko(e,t,n){e.min=n.min+t.min,e.max=e.min+we(t)}function jf(e,t,n){Ko(e.x,t.x,n.x),Ko(e.y,t.y,n.y)}function Yo(e,t,n){e.min=t.min-n.min,e.max=e.min+we(t)}function vt(e,t,n){Yo(e.x,t.x,n.x),Yo(e.y,t.y,n.y)}function $o(e,t,n,r,o){return e-=t,e=nn(e,1/n,r),o!==void 0&&(e=nn(e,1/o,r)),e}function kf(e,t,n,r,o,a,i){if(t===void 0&&(t=0),n===void 0&&(n=1),r===void 0&&(r=.5),a===void 0&&(a=e),i===void 0&&(i=e),ge.test(t)){t=parseFloat(t);var s=$(i.min,i.max,t/100);t=s-i.min}if(typeof t=="number"){var l=$(a.min,a.max,r);e===a&&(l-=t),e.min=$o(e.min,t,n,l,o),e.max=$o(e.max,t,n,l,o)}}function Xo(e,t,n,r,o){var a=Z(n,3),i=a[0],s=a[1],l=a[2];kf(e,t[i],t[s],t[l],t.scale,r,o)}var Ff=["x","scaleX","originX"],Bf=["y","scaleY","originY"];function qo(e,t,n,r){Xo(e.x,t,Ff,n==null?void 0:n.x,r==null?void 0:r.x),Xo(e.y,t,Bf,n==null?void 0:n.y,r==null?void 0:r.y)}var Zo=function(){return{translate:0,scale:1,origin:0,originPoint:0}},gt=function(){return{x:Zo(),y:Zo()}},Jo=function(){return{min:0,max:0}},ne=function(){return{x:Jo(),y:Jo()}};function Qo(e){return e.translate===0&&e.scale===1}function xs(e){return Qo(e.x)&&Qo(e.y)}function Ps(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var Nf=function(){function e(){this.members=[]}return e.prototype.add=function(t){Lr(this.members,t),t.scheduleRender()},e.prototype.remove=function(t){if(jr(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){var n=this.members[this.members.length-1];n&&this.promote(n)}},e.prototype.relegate=function(t){var n=this.members.findIndex(function(i){return t===i});if(n===0)return!1;for(var r,o=n;o>=0;o--){var a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1},e.prototype.promote=function(t,n){var r,o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,n&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues,t.snapshot.isShared=!0),!((r=t.root)===null||r===void 0)&&r.isUpdating&&(t.isLayoutDirty=!0);var a=t.options.crossfade;a===!1&&o.hide()}},e.prototype.exitAnimationComplete=function(){this.members.forEach(function(t){var n,r,o,a,i;(r=(n=t.options).onExitComplete)===null||r===void 0||r.call(n),(i=(o=t.resumingFrom)===null||o===void 0?void 0:(a=o.options).onExitComplete)===null||i===void 0||i.call(a)})},e.prototype.scheduleRender=function(){this.members.forEach(function(t){t.instance&&t.scheduleRender(!1)})},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}(),rn={};function zf(e){Object.assign(rn,e)}var Uf="translate3d(0px, 0px, 0) scale(1, 1)";function ei(e,t,n){var r=e.x.translate/t.x,o=e.y.translate/t.y,a="translate3d(".concat(r,"px, ").concat(o,"px, 0) ");if(n){var i=n.rotate,s=n.rotateX,l=n.rotateY;i&&(a+="rotate(".concat(i,"deg) ")),s&&(a+="rotateX(".concat(s,"deg) ")),l&&(a+="rotateY(".concat(l,"deg) "))}return a+="scale(".concat(e.x.scale,", ").concat(e.y.scale,")"),a===Uf?"none":a}function he(e){return[e("x"),e("y")]}var cr=["","X","Y","Z"],Wf=["translate","scale","rotate","skew"],Et=["transformPerspective","x","y","z"];Wf.forEach(function(e){return cr.forEach(function(t){return Et.push(e+t)})});function Hf(e,t){return Et.indexOf(e)-Et.indexOf(t)}var Gf=new Set(Et);function jt(e){return Gf.has(e)}var Kf=new Set(["originX","originY","originZ"]);function Ss(e){return Kf.has(e)}var Yf=function(e,t){return e.depth-t.depth},$f=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(t){Lr(this.children,t),this.isDirty=!0},e.prototype.remove=function(t){jr(this.children,t),this.isDirty=!0},e.prototype.forEach=function(t){this.isDirty&&this.children.sort(Yf),this.isDirty=!1,this.children.forEach(t)},e}();function $t(e){var t=Se(e)?e.get():e;return Pf(t)?t.toValue():t}var ti=1e3,yt={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ws(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,o=e.resetTransform;return function(){function a(i,s,l){var c=this;s===void 0&&(s={}),l===void 0&&(l=n==null?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){c.isUpdating&&(c.isUpdating=!1,c.clearAllSnapshots())},this.updateProjection=function(){c.nodes.forEach(ep),c.nodes.forEach(tp)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=i,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?me(me([],Z(l.path),!1),[l],!1):[],this.parent=l,this.depth=l?l.depth+1:0,i&&this.root.registerPotentialNode(i,this);for(var u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new $f)}return a.prototype.addEventListener=function(i,s){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new ht),this.eventHandlers.get(i).add(s)},a.prototype.notifyListeners=function(i){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];var c=this.eventHandlers.get(i);c==null||c.notify.apply(c,me([],Z(s),!1))},a.prototype.hasListeners=function(i){return this.eventHandlers.has(i)},a.prototype.registerPotentialNode=function(i,s){this.potentialNodes.set(i,s)},a.prototype.mount=function(i,s){var l=this,c;if(s===void 0&&(s=!1),!this.instance){this.isSVG=i instanceof SVGElement&&i.tagName!=="svg",this.instance=i;var u=this.options,p=u.layoutId,h=u.layout,f=u.visualElement;if(f&&!f.getInstance()&&f.mount(i),this.root.nodes.add(this),(c=this.parent)===null||c===void 0||c.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),s&&(h||p)&&(this.isLayoutDirty=!0),t){var v,g=function(){return l.root.updateBlockedByResize=!1};t(i,function(){l.root.updateBlockedByResize=!0,clearTimeout(v),v=window.setTimeout(g,250),yt.hasAnimatedSinceResize&&(yt.hasAnimatedSinceResize=!1,l.nodes.forEach(Qf))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&f&&(p||h)&&this.addEventListener("didUpdate",function(P){var y,b,x,S,w,C=P.delta,T=P.hasLayoutChanged,I=P.hasRelativeTargetChanged,M=P.layout;if(l.isTreeAnimationBlocked()){l.target=void 0,l.relativeTarget=void 0;return}var V=(b=(y=l.options.transition)!==null&&y!==void 0?y:f.getDefaultTransition())!==null&&b!==void 0?b:ap,L=f.getProps(),N=L.onLayoutAnimationStart,j=L.onLayoutAnimationComplete,B=!l.targetLayout||!Ps(l.targetLayout,M)||I,W=!T&&I;if(((x=l.resumeFrom)===null||x===void 0?void 0:x.instance)||W||T&&(B||!l.currentAnimation)){l.resumeFrom&&(l.resumingFrom=l.resumeFrom,l.resumingFrom.resumingFrom=void 0),l.setAnimationOrigin(C,W);var ee=E(E({},Br(V,"layout")),{onPlay:N,onComplete:j});f.shouldReduceMotion&&(ee.delay=0,ee.type=!1),l.startAnimation(ee)}else!T&&l.animationProgress===0&&l.finishAnimation(),l.isLead()&&((w=(S=l.options).onExitComplete)===null||w===void 0||w.call(S));l.targetLayout=M})}},a.prototype.unmount=function(){var i,s;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(i=this.getStack())===null||i===void 0||i.remove(this),(s=this.parent)===null||s===void 0||s.children.delete(this),this.instance=void 0,nt.preRender(this.updateProjection)},a.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},a.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},a.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},a.prototype.isTreeAnimationBlocked=function(){var i;return this.isAnimationBlocked||((i=this.parent)===null||i===void 0?void 0:i.isTreeAnimationBlocked())||!1},a.prototype.startUpdate=function(){var i;this.isUpdateBlocked()||(this.isUpdating=!0,(i=this.nodes)===null||i===void 0||i.forEach(np))},a.prototype.willUpdate=function(i){var s,l,c;if(i===void 0&&(i=!0),this.root.isUpdateBlocked()){(l=(s=this.options).onExitComplete)===null||l===void 0||l.call(s);return}if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var u=0;u<this.path.length;u++){var p=this.path[u];p.shouldResetTransform=!0,p.updateScroll()}var h=this.options,f=h.layoutId,v=h.layout;if(!(f===void 0&&!v)){var g=(c=this.options.visualElement)===null||c===void 0?void 0:c.getProps().transformTemplate;this.prevTransformTemplateValue=g==null?void 0:g(this.latestValues,""),this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}}},a.prototype.didUpdate=function(){var i=this.isUpdateBlocked();if(i){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ni);return}!this.isUpdating||(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(sp),this.potentialNodes.clear()),this.nodes.forEach(Jf),this.nodes.forEach(Xf),this.nodes.forEach(qf),this.clearAllSnapshots(),jn.update(),jn.preRender(),jn.render())},a.prototype.clearAllSnapshots=function(){this.nodes.forEach(Zf),this.sharedNodes.forEach(rp)},a.prototype.scheduleUpdateProjection=function(){ve.preRender(this.updateProjection,!1,!0)},a.prototype.scheduleCheckAfterUnmount=function(){var i=this;ve.postRender(function(){i.isLayoutDirty?i.root.didUpdate():i.root.checkUpdateFailed()})},a.prototype.updateSnapshot=function(){if(!(this.snapshot||!this.instance)){var i=this.measure(),s=this.removeTransform(this.removeElementScroll(i));ai(s),this.snapshot={measured:i,layout:s,latestValues:{}}}},a.prototype.updateLayout=function(){var i;if(!!this.instance&&(this.updateScroll(),!(!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))){if(this.resumeFrom&&!this.resumeFrom.instance)for(var s=0;s<this.path.length;s++){var l=this.path[s];l.updateScroll()}var c=this.measure();ai(c);var u=this.layout;this.layout={measured:c,actual:this.removeElementScroll(c)},this.layoutCorrected=ne(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(i=this.options.visualElement)===null||i===void 0||i.notifyLayoutMeasure(this.layout.actual,u==null?void 0:u.actual)}},a.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=r(this.instance))},a.prototype.resetTransform=function(){var i;if(!!o){var s=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!xs(this.projectionDelta),c=(i=this.options.visualElement)===null||i===void 0?void 0:i.getProps().transformTemplate,u=c==null?void 0:c(this.latestValues,""),p=u!==this.prevTransformTemplateValue;s&&(l||Ie(this.latestValues)||p)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}},a.prototype.measure=function(){var i=this.options.visualElement;if(!i)return ne();var s=i.measureViewportBox(),l=this.root.scroll;return l&&(Je(s.x,l.x),Je(s.y,l.y)),s},a.prototype.removeElementScroll=function(i){var s=ne();pe(s,i);for(var l=0;l<this.path.length;l++){var c=this.path[l],u=c.scroll,p=c.options;c!==this.root&&u&&p.layoutScroll&&(Je(s.x,u.x),Je(s.y,u.y))}return s},a.prototype.applyTransform=function(i,s){s===void 0&&(s=!1);var l=ne();pe(l,i);for(var c=0;c<this.path.length;c++){var u=this.path[c];!s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Qe(l,{x:-u.scroll.x,y:-u.scroll.y}),Ie(u.latestValues)&&Qe(l,u.latestValues)}return Ie(this.latestValues)&&Qe(l,this.latestValues),l},a.prototype.removeTransform=function(i){var s,l=ne();pe(l,i);for(var c=0;c<this.path.length;c++){var u=this.path[c];if(!!u.instance&&!!Ie(u.latestValues)){ys(u.latestValues)&&u.updateSnapshot();var p=ne(),h=u.measure();pe(p,h),qo(l,u.latestValues,(s=u.snapshot)===null||s===void 0?void 0:s.layout,p)}}return Ie(this.latestValues)&&qo(l,this.latestValues),l},a.prototype.setTargetDelta=function(i){this.targetDelta=i,this.root.scheduleUpdateProjection()},a.prototype.setOptions=function(i){var s;this.options=E(E(E({},this.options),i),{crossfade:(s=i.crossfade)!==null&&s!==void 0?s:!0})},a.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},a.prototype.resolveTargetDelta=function(){var i,s=this.options,l=s.layout,c=s.layoutId;!this.layout||!(l||c)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=ne(),this.relativeTargetOrigin=ne(),vt(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),pe(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ne(),this.targetWithTransforms=ne()),this.relativeTarget&&this.relativeTargetOrigin&&((i=this.relativeParent)===null||i===void 0?void 0:i.target)?jf(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):pe(this.target,this.layout.actual),bs(this.target,this.targetDelta)):pe(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=ne(),this.relativeTargetOrigin=ne(),vt(this.relativeTargetOrigin,this.target,this.relativeParent.target),pe(this.relativeTarget,this.relativeTargetOrigin)))))},a.prototype.getClosestProjectingParent=function(){if(!(!this.parent||Ie(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},a.prototype.calcProjection=function(){var i,s=this.options,l=s.layout,c=s.layoutId;if(this.isTreeAnimating=Boolean(((i=this.parent)===null||i===void 0?void 0:i.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!(!this.layout||!(l||c))){var u=this.getLead();pe(this.layoutCorrected,this.layout.actual),Vf(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==u);var p=u.target;if(!!p){this.projectionDelta||(this.projectionDelta=gt(),this.projectionDeltaWithTransform=gt());var h=this.treeScale.x,f=this.treeScale.y,v=this.projectionTransform;mt(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=ei(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}}},a.prototype.hide=function(){this.isVisible=!1},a.prototype.show=function(){this.isVisible=!0},a.prototype.scheduleRender=function(i){var s,l,c;i===void 0&&(i=!0),(l=(s=this.options).scheduleRender)===null||l===void 0||l.call(s),i&&((c=this.getStack())===null||c===void 0||c.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},a.prototype.setAnimationOrigin=function(i,s){var l=this,c;s===void 0&&(s=!1);var u=this.snapshot,p=(u==null?void 0:u.latestValues)||{},h=E({},this.latestValues),f=gt();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!s;var v=ne(),g=u==null?void 0:u.isShared,P=(((c=this.getStack())===null||c===void 0?void 0:c.members.length)||0)<=1,y=Boolean(g&&!P&&this.options.crossfade===!0&&!this.path.some(ip));this.animationProgress=0,this.mixTargetDelta=function(b){var x,S=b/1e3;ri(f.x,i.x,S),ri(f.y,i.y,S),l.setTargetDelta(f),l.relativeTarget&&l.relativeTargetOrigin&&l.layout&&((x=l.relativeParent)===null||x===void 0?void 0:x.layout)&&(vt(v,l.layout.actual,l.relativeParent.layout.actual),op(l.relativeTarget,l.relativeTargetOrigin,v,S)),g&&(l.animationValues=h,Rf(h,p,l.latestValues,S,y,P)),l.root.scheduleUpdateProjection(),l.scheduleRender(),l.animationProgress=S},this.mixTargetDelta(0)},a.prototype.startAnimation=function(i){var s=this,l,c;this.notifyListeners("animationStart"),(l=this.currentAnimation)===null||l===void 0||l.stop(),this.resumingFrom&&((c=this.resumingFrom.currentAnimation)===null||c===void 0||c.stop()),this.pendingAnimation&&(nt.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ve.update(function(){yt.hasAnimatedSinceResize=!0,s.currentAnimation=_f(0,ti,E(E({},i),{onUpdate:function(u){var p;s.mixTargetDelta(u),(p=i.onUpdate)===null||p===void 0||p.call(i,u)},onComplete:function(){var u;(u=i.onComplete)===null||u===void 0||u.call(i),s.completeAnimation()}})),s.resumingFrom&&(s.resumingFrom.currentAnimation=s.currentAnimation),s.pendingAnimation=void 0})},a.prototype.completeAnimation=function(){var i;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(i=this.getStack())===null||i===void 0||i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},a.prototype.finishAnimation=function(){var i;this.currentAnimation&&((i=this.mixTargetDelta)===null||i===void 0||i.call(this,ti),this.currentAnimation.stop()),this.completeAnimation()},a.prototype.applyTransformsToTarget=function(){var i=this.getLead(),s=i.targetWithTransforms,l=i.target,c=i.layout,u=i.latestValues;!s||!l||!c||(pe(s,l),Qe(s,u),mt(this.projectionDeltaWithTransform,this.layoutCorrected,s,u))},a.prototype.registerSharedNode=function(i,s){var l,c,u;this.sharedNodes.has(i)||this.sharedNodes.set(i,new Nf);var p=this.sharedNodes.get(i);p.add(s),s.promote({transition:(l=s.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(u=(c=s.options.initialPromotionConfig)===null||c===void 0?void 0:c.shouldPreserveFollowOpacity)===null||u===void 0?void 0:u.call(c,s)})},a.prototype.isLead=function(){var i=this.getStack();return i?i.lead===this:!0},a.prototype.getLead=function(){var i,s=this.options.layoutId;return s?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this},a.prototype.getPrevLead=function(){var i,s=this.options.layoutId;return s?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0},a.prototype.getStack=function(){var i=this.options.layoutId;if(i)return this.root.sharedNodes.get(i)},a.prototype.promote=function(i){var s=i===void 0?{}:i,l=s.needsReset,c=s.transition,u=s.preserveFollowOpacity,p=this.getStack();p&&p.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})},a.prototype.relegate=function(){var i=this.getStack();return i?i.relegate(this):!1},a.prototype.resetRotation=function(){var i=this.options.visualElement;if(!!i){for(var s=!1,l={},c=0;c<cr.length;c++){var u=cr[c],p="rotate"+u;!i.getStaticValue(p)||(s=!0,l[p]=i.getStaticValue(p),i.setStaticValue(p,0))}if(!!s){i==null||i.syncRender();for(var p in l)i.setStaticValue(p,l[p]);i.scheduleRender()}}},a.prototype.getProjectionStyles=function(i){var s,l,c,u,p,h;i===void 0&&(i={});var f={};if(!this.instance||this.isSVG)return f;if(this.isVisible)f.visibility="";else return{visibility:"hidden"};var v=(s=this.options.visualElement)===null||s===void 0?void 0:s.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=$t(i.pointerEvents)||"",f.transform=v?v(this.latestValues,""):"none",f;var g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){var P={};return this.options.layoutId&&(P.opacity=(l=this.latestValues.opacity)!==null&&l!==void 0?l:1,P.pointerEvents=$t(i.pointerEvents)||""),this.hasProjected&&!Ie(this.latestValues)&&(P.transform=v?v({},""):"none",this.hasProjected=!1),P}var y=g.animationValues||g.latestValues;this.applyTransformsToTarget(),f.transform=ei(this.projectionDeltaWithTransform,this.treeScale,y),v&&(f.transform=v(y,f.transform));var b=this.projectionDelta,x=b.x,S=b.y;f.transformOrigin="".concat(x.origin*100,"% ").concat(S.origin*100,"% 0"),g.animationValues?f.opacity=g===this?(u=(c=y.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:f.opacity=g===this?(p=y.opacity)!==null&&p!==void 0?p:"":(h=y.opacityExit)!==null&&h!==void 0?h:0;for(var w in rn)if(y[w]!==void 0){var C=rn[w],T=C.correct,I=C.applyTo,M=T(y[w],g);if(I)for(var V=I.length,L=0;L<V;L++)f[I[L]]=M;else f[w]=M}return this.options.layoutId&&(f.pointerEvents=g===this?$t(i.pointerEvents)||"":"none"),f},a.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},a.prototype.resetTree=function(){this.root.nodes.forEach(function(i){var s;return(s=i.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(ni),this.root.sharedNodes.clear()},a}()}function Xf(e){e.updateLayout()}function qf(e){var t,n,r,o,a=(n=(t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)!==null&&n!==void 0?n:e.snapshot;if(e.isLead()&&e.layout&&a&&e.hasListeners("didUpdate")){var i=e.layout,s=i.actual,l=i.measured;e.options.animationType==="size"?he(function(b){var x=a.isShared?a.measured[b]:a.layout[b],S=we(x);x.min=s[b].min,x.max=x.min+S}):e.options.animationType==="position"&&he(function(b){var x=a.isShared?a.measured[b]:a.layout[b],S=we(s[b]);x.max=x.min+S});var c=gt();mt(c,s,a.layout);var u=gt();a.isShared?mt(u,e.applyTransform(l,!0),a.measured):mt(u,s,a.layout);var p=!xs(c),h=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var f=e.relativeParent,v=f.snapshot,g=f.layout;if(v&&g){var P=ne();vt(P,a.layout,v.layout);var y=ne();vt(y,s,g.actual),Ps(P,y)||(h=!0)}}e.notifyListeners("didUpdate",{layout:s,snapshot:a,delta:u,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:h})}else e.isLead()&&((o=(r=e.options).onExitComplete)===null||o===void 0||o.call(r));e.options.transition=void 0}function Zf(e){e.clearSnapshot()}function ni(e){e.clearMeasurements()}function Jf(e){var t=e.options.visualElement;t!=null&&t.getProps().onBeforeLayoutMeasure&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function Qf(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function ep(e){e.resolveTargetDelta()}function tp(e){e.calcProjection()}function np(e){e.resetRotation()}function rp(e){e.removeLeadSnapshot()}function ri(e,t,n){e.translate=$(t.translate,0,n),e.scale=$(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function oi(e,t,n,r){e.min=$(t.min,n.min,r),e.max=$(t.max,n.max,r)}function op(e,t,n,r){oi(e.x,t.x,n.x,r),oi(e.y,t.y,n.y,r)}function ip(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var ap={duration:.45,ease:[.4,0,.1,1]};function sp(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var o=n&&n!==e.root?n.instance:document,a=o.querySelector('[data-projection-id="'.concat(t,'"]'));a&&e.mount(a,!0)}function ii(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function ai(e){ii(e.x),ii(e.y)}var lp=1;function cp(){return yn(function(){if(yt.hasEverUpdated)return lp++})}var Cs=m.exports.createContext({}),Ts=m.exports.createContext({});function up(e,t,n,r){var o,a=t.layoutId,i=t.layout,s=t.drag,l=t.dragConstraints,c=t.layoutScroll,u=m.exports.useContext(Ts);!r||!n||(n==null?void 0:n.projection)||(n.projection=new r(e,n.getLatestValues(),(o=n.parent)===null||o===void 0?void 0:o.projection),n.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:Boolean(s)||l&&Ze(l),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:typeof i=="string"?i:"both",initialPromotionConfig:u,layoutScroll:c}))}var dp=function(e){ca(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var n=this.props,r=n.visualElement,o=n.props;r&&r.setProps(o)},t.prototype.render=function(){return this.props.children},t}(Oe.Component);function fp(e){var t=e.preloadedFeatures,n=e.createVisualElement,r=e.projectionNodeConstructor,o=e.useRender,a=e.useVisualState,i=e.Component;t&&zu(t);function s(l,c){var u=pp(l);l=E(E({},l),{layoutId:u});var p=m.exports.useContext(Ir),h=null,f=ed(l),v=p.isStatic?void 0:cp(),g=a(l,p.isStatic);return!p.isStatic&&Dt&&(f.visualElement=Xu(i,g,E(E({},p),l),n),up(v,l,f.visualElement,r||Pt.projectionNodeConstructor),h=Hu(l,f.visualElement)),D(dp,{visualElement:f.visualElement,props:E(E({},p),l),children:[h,d(hn.Provider,{value:f,children:o(i,l,v,qu(g,f.visualElement,c),g,p.isStatic,f.visualElement)})]})}return m.exports.forwardRef(s)}function pp(e){var t,n=e.layoutId,r=(t=m.exports.useContext(Cs))===null||t===void 0?void 0:t.id;return r&&n!==void 0?r+"-"+n:n}function hp(e){function t(r,o){return o===void 0&&(o={}),fp(e(r,o))}if(typeof Proxy>"u")return t;var n=new Map;return new Proxy(t,{get:function(r,o){return n.has(o)||n.set(o,t(o)),n.get(o)}})}var mp=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function zr(e){return typeof e!="string"||e.includes("-")?!1:!!(mp.indexOf(e)>-1||/[A-Z]/.test(e))}function Es(e,t){var n=t.layout,r=t.layoutId;return jt(e)||Ss(e)||(n||r!==void 0)&&(!!rn[e]||e==="opacity")}var vp={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function gp(e,t,n,r){var o=e.transform,a=e.transformKeys,i=t.enableHardwareAcceleration,s=i===void 0?!0:i,l=t.allowTransformNone,c=l===void 0?!0:l,u="";a.sort(Hf);for(var p=!1,h=a.length,f=0;f<h;f++){var v=a[f];u+="".concat(vp[v]||v,"(").concat(o[v],") "),v==="z"&&(p=!0)}return!p&&s?u+="translateZ(0)":u=u.trim(),r?u=r(o,n?"":u):c&&n&&(u="none"),u}function yp(e){var t=e.originX,n=t===void 0?"50%":t,r=e.originY,o=r===void 0?"50%":r,a=e.originZ,i=a===void 0?0:a;return"".concat(n," ").concat(o," ").concat(i)}function Is(e){return e.startsWith("--")}var bp=function(e,t){return t&&typeof e=="number"?t.transform(e):e};function Ur(e,t,n,r){var o,a=e.style,i=e.vars,s=e.transform,l=e.transformKeys,c=e.transformOrigin;l.length=0;var u=!1,p=!1,h=!0;for(var f in t){var v=t[f];if(Is(f)){i[f]=v;continue}var g=hs[f],P=bp(v,g);if(jt(f)){if(u=!0,s[f]=P,l.push(f),!h)continue;v!==((o=g.default)!==null&&o!==void 0?o:0)&&(h=!1)}else Ss(f)?(c[f]=P,p=!0):a[f]=P}u?a.transform=gp(e,n,h,r):r?a.transform=r({},""):!t.transform&&a.transform&&(a.transform="none"),p&&(a.transformOrigin=yp(c))}var Wr=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function _s(e,t,n){for(var r in t)!Se(t[r])&&!Es(r,n)&&(e[r]=t[r])}function xp(e,t,n){var r=e.transformTemplate;return m.exports.useMemo(function(){var o=Wr();Ur(o,t,{enableHardwareAcceleration:!n},r);var a=o.vars,i=o.style;return E(E({},a),i)},[t])}function Pp(e,t,n){var r=e.style||{},o={};return _s(o,r,e),Object.assign(o,xp(e,t,n)),e.transformValues&&(o=e.transformValues(o)),o}function Sp(e,t,n){var r={},o=Pp(e,t,n);return Boolean(e.drag)&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":"pan-".concat(e.drag==="x"?"y":"x")),r.style=o,r}var wp=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function on(e){return wp.has(e)}var Ms=function(e){return!on(e)};function Cp(e){!e||(Ms=function(t){return t.startsWith("on")?!on(t):e(t)})}try{Cp(require("@emotion/is-prop-valid").default)}catch{}function Tp(e,t,n){var r={};for(var o in e)(Ms(o)||n===!0&&on(o)||!t&&!on(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function si(e,t,n){return typeof e=="string"?e:O.transform(t+n*e)}function Ep(e,t,n){var r=si(t,e.x,e.width),o=si(n,e.y,e.height);return"".concat(r," ").concat(o)}var Ip={offset:"stroke-dashoffset",array:"stroke-dasharray"},_p={offset:"strokeDashoffset",array:"strokeDasharray"};function Mp(e,t,n,r,o){n===void 0&&(n=1),r===void 0&&(r=0),o===void 0&&(o=!0),e.pathLength=1;var a=o?Ip:_p;e[a.offset]=O.transform(-r);var i=O.transform(t),s=O.transform(n);e[a.array]="".concat(i," ").concat(s)}function Hr(e,t,n,r){var o=t.attrX,a=t.attrY,i=t.originX,s=t.originY,l=t.pathLength,c=t.pathSpacing,u=c===void 0?1:c,p=t.pathOffset,h=p===void 0?0:p,f=ue(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);Ur(e,f,n,r),e.attrs=e.style,e.style={};var v=e.attrs,g=e.style,P=e.dimensions;v.transform&&(P&&(g.transform=v.transform),delete v.transform),P&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=Ep(P,i!==void 0?i:.5,s!==void 0?s:.5)),o!==void 0&&(v.x=o),a!==void 0&&(v.y=a),l!==void 0&&Mp(v,l,u,h,!1)}var Rs=function(){return E(E({},Wr()),{attrs:{}})};function Rp(e,t){var n=m.exports.useMemo(function(){var o=Rs();return Hr(o,t,{enableHardwareAcceleration:!1},e.transformTemplate),E(E({},o.attrs),{style:E({},o.style)})},[t]);if(e.style){var r={};_s(r,e.style,e),n.style=E(E({},r),n.style)}return n}function Ap(e){e===void 0&&(e=!1);var t=function(n,r,o,a,i,s){var l=i.latestValues,c=zr(n)?Rp:Sp,u=c(r,l,s),p=Tp(r,typeof n=="string",e),h=E(E(E({},p),u),{ref:a});return o&&(h["data-projection-id"]=o),m.exports.createElement(n,h)};return t}var Dp=/([a-z])([A-Z])/g,Vp="$1-$2",As=function(e){return e.replace(Dp,Vp).toLowerCase()};function Ds(e,t,n,r){var o=t.style,a=t.vars;Object.assign(e.style,o,r&&r.getProjectionStyles(n));for(var i in a)e.style.setProperty(i,a[i])}var Vs=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function Os(e,t){Ds(e,t);for(var n in t.attrs)e.setAttribute(Vs.has(n)?n:As(n),t.attrs[n])}function Gr(e){var t=e.style,n={};for(var r in t)(Se(t[r])||Es(r,e))&&(n[r]=t[r]);return n}function Ls(e){var t=Gr(e);for(var n in e)if(Se(e[n])){var r=n==="x"||n==="y"?"attr"+n.toUpperCase():n;t[r]=e[n]}return t}function Kr(e){return typeof e=="object"&&typeof e.start=="function"}function li(e,t,n,r){var o=e.scrapeMotionValuesFromProps,a=e.createRenderState,i=e.onMount,s={latestValues:Op(t,n,r,o),renderState:a()};return i&&(s.mount=function(l){return i(t,l,s)}),s}var js=function(e){return function(t,n){var r=m.exports.useContext(hn),o=m.exports.useContext(mn);return n?li(e,t,r,o):yn(function(){return li(e,t,r,o)})}};function Op(e,t,n,r){var o={},a=(n==null?void 0:n.initial)===!1,i=r(e);for(var s in i)o[s]=$t(i[s]);var l=e.initial,c=e.animate,u=gn(e),p=Na(e);t&&p&&!u&&e.inherit!==!1&&(l!=null||(l=t.initial),c!=null||(c=t.animate));var h=a||l===!1,f=h?c:l;if(f&&typeof f!="boolean"&&!Kr(f)){var v=Array.isArray(f)?f:[f];v.forEach(function(g){var P=Ba(e,g);if(!!P){var y=P.transitionEnd;P.transition;var b=ue(P,["transitionEnd","transition"]);for(var x in b){var S=b[x];if(Array.isArray(S)){var w=h?S.length-1:0;S=S[w]}S!==null&&(o[x]=S)}for(var x in y)o[x]=y[x]}})}return o}var Lp={useVisualState:js({scrapeMotionValuesFromProps:Ls,createRenderState:Rs,onMount:function(e,t,n){var r=n.renderState,o=n.latestValues;try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}Hr(r,o,{enableHardwareAcceleration:!1},e.transformTemplate),Os(t,r)}})},jp={useVisualState:js({scrapeMotionValuesFromProps:Gr,createRenderState:Wr})};function kp(e,t,n,r,o){var a=t.forwardMotionProps,i=a===void 0?!1:a,s=zr(e)?Lp:jp;return E(E({},s),{preloadedFeatures:n,useRender:Ap(i),createVisualElement:r,projectionNodeConstructor:o,Component:e})}var K;(function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"})(K||(K={}));function Yr(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function ur(e,t,n,r){m.exports.useEffect(function(){var o=e.current;if(n&&o)return Yr(o,t,n,r)},[e,t,n,r])}function Fp(e){var t=e.whileFocus,n=e.visualElement,r=function(){var a;(a=n.animationState)===null||a===void 0||a.setActive(K.Focus,!0)},o=function(){var a;(a=n.animationState)===null||a===void 0||a.setActive(K.Focus,!1)};ur(n,"focus",t?r:void 0),ur(n,"blur",t?o:void 0)}function ks(e){return typeof PointerEvent<"u"&&e instanceof PointerEvent?e.pointerType==="mouse":e instanceof MouseEvent}function Fs(e){var t=!!e.touches;return t}function Bp(e){return function(t){var n=t instanceof MouseEvent,r=!n||n&&t.button===0;r&&e(t)}}var Np={pageX:0,pageY:0};function zp(e,t){t===void 0&&(t="page");var n=e.touches[0]||e.changedTouches[0],r=n||Np;return{x:r[t+"X"],y:r[t+"Y"]}}function Up(e,t){return t===void 0&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function $r(e,t){return t===void 0&&(t="page"),{point:Fs(e)?zp(e,t):Up(e,t)}}var Bs=function(e,t){t===void 0&&(t=!1);var n=function(r){return e(r,$r(r))};return t?Bp(n):n},Wp=function(){return Dt&&window.onpointerdown===null},Hp=function(){return Dt&&window.ontouchstart===null},Gp=function(){return Dt&&window.onmousedown===null},Kp={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Yp={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Ns(e){return Wp()?e:Hp()?Yp[e]:Gp()?Kp[e]:e}function tt(e,t,n,r){return Yr(e,Ns(t),Bs(n,t==="pointerdown"),r)}function an(e,t,n,r){return ur(e,Ns(t),n&&Bs(n,t==="pointerdown"),r)}function zs(e){var t=null;return function(){var n=function(){t=null};return t===null?(t=e,n):!1}}var ci=zs("dragHorizontal"),ui=zs("dragVertical");function Us(e){var t=!1;if(e==="y")t=ui();else if(e==="x")t=ci();else{var n=ci(),r=ui();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function Ws(){var e=Us(!0);return e?(e(),!1):!0}function di(e,t,n){return function(r,o){var a;!ks(r)||Ws()||((a=e.animationState)===null||a===void 0||a.setActive(K.Hover,t),n==null||n(r,o))}}function $p(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,o=e.visualElement;an(o,"pointerenter",t||r?di(o,!0,t):void 0),an(o,"pointerleave",n||r?di(o,!1,n):void 0)}var Hs=function(e,t){return t?e===t?!0:Hs(e,t.parentElement):!1};function Gs(e){return m.exports.useEffect(function(){return function(){return e()}},[])}function Xp(e){var t=e.onTap,n=e.onTapStart,r=e.onTapCancel,o=e.whileTap,a=e.visualElement,i=t||n||r||o,s=m.exports.useRef(!1),l=m.exports.useRef(null);function c(){var v;(v=l.current)===null||v===void 0||v.call(l),l.current=null}function u(){var v;return c(),s.current=!1,(v=a.animationState)===null||v===void 0||v.setActive(K.Tap,!1),!Ws()}function p(v,g){!u()||(Hs(a.getInstance(),v.target)?t==null||t(v,g):r==null||r(v,g))}function h(v,g){!u()||r==null||r(v,g)}function f(v,g){var P;c(),!s.current&&(s.current=!0,l.current=xn(tt(window,"pointerup",p),tt(window,"pointercancel",h)),(P=a.animationState)===null||P===void 0||P.setActive(K.Tap,!0),n==null||n(v,g))}an(a,"pointerdown",i?f:void 0),Gs(c)}var dr=new WeakMap,Un=new WeakMap,qp=function(e){var t;(t=dr.get(e.target))===null||t===void 0||t(e)},Zp=function(e){e.forEach(qp)};function Jp(e){var t=e.root,n=ue(e,["root"]),r=t||document;Un.has(r)||Un.set(r,{});var o=Un.get(r),a=JSON.stringify(n);return o[a]||(o[a]=new IntersectionObserver(Zp,E({root:t},n))),o[a]}function Qp(e,t,n){var r=Jp(t);return dr.set(e,n),r.observe(e),function(){dr.delete(e),r.unobserve(e)}}function eh(e){var t=e.visualElement,n=e.whileInView,r=e.onViewportEnter,o=e.onViewportLeave,a=e.viewport,i=a===void 0?{}:a,s=m.exports.useRef({hasEnteredView:!1,isInView:!1}),l=Boolean(n||r||o);i.once&&s.current.hasEnteredView&&(l=!1);var c=typeof IntersectionObserver>"u"?rh:nh;c(l,s.current,t,i)}var th={some:0,all:1};function nh(e,t,n,r){var o=r.root,a=r.margin,i=r.amount,s=i===void 0?"some":i,l=r.once;m.exports.useEffect(function(){if(!!e){var c={root:o==null?void 0:o.current,rootMargin:a,threshold:typeof s=="number"?s:th[s]},u=function(p){var h,f=p.isIntersecting;if(t.isInView!==f&&(t.isInView=f,!(l&&!f&&t.hasEnteredView))){f&&(t.hasEnteredView=!0),(h=n.animationState)===null||h===void 0||h.setActive(K.InView,f);var v=n.getProps(),g=f?v.onViewportEnter:v.onViewportLeave;g==null||g(p)}};return Qp(n.getInstance(),c,u)}},[e,o,a,s])}function rh(e,t,n,r){var o=r.fallback,a=o===void 0?!0:o;m.exports.useEffect(function(){!e||!a||requestAnimationFrame(function(){var i;t.hasEnteredView=!0;var s=n.getProps().onViewportEnter;s==null||s(null),(i=n.animationState)===null||i===void 0||i.setActive(K.InView,!0)})},[e])}var De=function(e){return function(t){return e(t),null}},oh={inView:De(eh),tap:De(Xp),focus:De(Fp),hover:De($p)},ih=0,ah=function(){return ih++},sh=function(){return yn(ah)};function Ks(){var e=m.exports.useContext(mn);if(e===null)return[!0,null];var t=e.isPresent,n=e.onExitComplete,r=e.register,o=sh();m.exports.useEffect(function(){return r(o)},[]);var a=function(){return n==null?void 0:n(o)};return!t&&n?[!1,a]:[!0]}function Ys(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var lh=function(e){return/^\-?\d*\.?\d+$/.test(e)},ch=function(e){return/^0[^.\s]+$/.test(e)},$s=function(e){return function(t){return t.test(e)}},uh={test:function(e){return e==="auto"},parse:function(e){return e}},Xs=[We,O,ge,Ee,gd,vd,uh],ut=function(e){return Xs.find($s(e))},dh=me(me([],Z(Xs),!1),[ae,Pe],!1),fh=function(e){return dh.find($s(e))};function ph(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,rt(n))}function hh(e,t){var n=vn(e,t),r=n?e.makeTargetAnimatable(n,!1):{},o=r.transitionEnd,a=o===void 0?{}:o;r.transition;var i=ue(r,["transitionEnd","transition"]);i=E(E({},i),a);for(var s in i){var l=ms(i[s]);ph(e,s,l)}}function mh(e,t,n){var r,o,a,i,s=Object.keys(t).filter(function(f){return!e.hasValue(f)}),l=s.length;if(!!l)for(var c=0;c<l;c++){var u=s[c],p=t[u],h=null;Array.isArray(p)&&(h=p[0]),h===null&&(h=(o=(r=n[u])!==null&&r!==void 0?r:e.readValue(u))!==null&&o!==void 0?o:t[u]),h!=null&&(typeof h=="string"&&(lh(h)||ch(h))?h=parseFloat(h):!fh(h)&&Pe.test(p)&&(h=Fr(u,p)),e.addValue(u,rt(h)),(a=(i=n)[u])!==null&&a!==void 0||(i[u]=h),e.setBaseTarget(u,h))}}function vh(e,t){if(!!t){var n=t[e]||t.default||t;return n.from}}function gh(e,t,n){var r,o,a={};for(var i in e)a[i]=(r=vh(i,t))!==null&&r!==void 0?r:(o=n.getValue(i))===null||o===void 0?void 0:o.get();return a}function yh(e,t,n){n===void 0&&(n={}),e.notifyAnimationStart(t);var r;if(Array.isArray(t)){var o=t.map(function(i){return fr(e,i,n)});r=Promise.all(o)}else if(typeof t=="string")r=fr(e,t,n);else{var a=typeof t=="function"?vn(e,t,n.custom):t;r=qs(e,a,n)}return r.then(function(){return e.notifyAnimationComplete(t)})}function fr(e,t,n){var r;n===void 0&&(n={});var o=vn(e,t,n.custom),a=(o||{}).transition,i=a===void 0?e.getDefaultTransition()||{}:a;n.transitionOverride&&(i=n.transitionOverride);var s=o?function(){return qs(e,o,n)}:function(){return Promise.resolve()},l=!((r=e.variantChildren)===null||r===void 0)&&r.size?function(f){f===void 0&&(f=0);var v=i.delayChildren,g=v===void 0?0:v,P=i.staggerChildren,y=i.staggerDirection;return bh(e,t,g+f,P,y,n)}:function(){return Promise.resolve()},c=i.when;if(c){var u=Z(c==="beforeChildren"?[s,l]:[l,s],2),p=u[0],h=u[1];return p().then(h)}else return Promise.all([s(),l(n.delay)])}function qs(e,t,n){var r,o=n===void 0?{}:n,a=o.delay,i=a===void 0?0:a,s=o.transitionOverride,l=o.type,c=e.makeTargetAnimatable(t),u=c.transition,p=u===void 0?e.getDefaultTransition():u,h=c.transitionEnd,f=ue(c,["transition","transitionEnd"]);s&&(p=s);var v=[],g=l&&((r=e.animationState)===null||r===void 0?void 0:r.getState()[l]);for(var P in f){var y=e.getValue(P),b=f[P];if(!(!y||b===void 0||g&&Ph(g,P))){var x=E({delay:i},p);e.shouldReduceMotion&&jt(P)&&(x=E(E({},x),{type:!1,delay:0}));var S=Nr(P,y,b,x);v.push(S)}}return Promise.all(v).then(function(){h&&hh(e,h)})}function bh(e,t,n,r,o,a){n===void 0&&(n=0),r===void 0&&(r=0),o===void 0&&(o=1);var i=[],s=(e.variantChildren.size-1)*r,l=o===1?function(c){return c===void 0&&(c=0),c*r}:function(c){return c===void 0&&(c=0),s-c*r};return Array.from(e.variantChildren).sort(xh).forEach(function(c,u){i.push(fr(c,t,E(E({},a),{delay:n+l(u)})).then(function(){return c.notifyAnimationComplete(t)}))}),Promise.all(i)}function xh(e,t){return e.sortNodePosition(t)}function Ph(e,t){var n=e.protectedKeys,r=e.needsAnimating,o=n.hasOwnProperty(t)&&r[t]!==!0;return r[t]=!1,o}var Xr=[K.Animate,K.InView,K.Focus,K.Hover,K.Tap,K.Drag,K.Exit],Sh=me([],Z(Xr),!1).reverse(),wh=Xr.length;function Ch(e){return function(t){return Promise.all(t.map(function(n){var r=n.animation,o=n.options;return yh(e,r,o)}))}}function Th(e){var t=Ch(e),n=Ih(),r={},o=!0,a=function(u,p){var h=vn(e,p);if(h){h.transition;var f=h.transitionEnd,v=ue(h,["transition","transitionEnd"]);u=E(E(E({},u),v),f)}return u};function i(u){return r[u]!==void 0}function s(u){t=u(e)}function l(u,p){for(var h,f=e.getProps(),v=e.getVariantContext(!0)||{},g=[],P=new Set,y={},b=1/0,x=function(T){var I=Sh[T],M=n[I],V=(h=f[I])!==null&&h!==void 0?h:v[I],L=fe(V),N=I===p?M.isActive:null;N===!1&&(b=T);var j=V===v[I]&&V!==f[I]&&L;if(j&&o&&e.manuallyAnimateOnMount&&(j=!1),M.protectedKeys=E({},y),!M.isActive&&N===null||!V&&!M.prevProp||Kr(V)||typeof V=="boolean")return"continue";var B=Eh(M.prevProp,V),W=B||I===p&&M.isActive&&!j&&L||T>b&&L,ee=Array.isArray(V)?V:[V],oe=ee.reduce(a,{});N===!1&&(oe={});var ie=M.prevResolvedValues,Y=ie===void 0?{}:ie,le=E(E({},Y),oe),Ce=function(A){W=!0,P.delete(A),M.needsAnimating[A]=!0};for(var te in le){var z=oe[te],R=Y[te];y.hasOwnProperty(te)||(z!==R?Tt(z)&&Tt(R)?!Ys(z,R)||B?Ce(te):M.protectedKeys[te]=!0:z!==void 0?Ce(te):P.add(te):z!==void 0&&P.has(te)?Ce(te):M.protectedKeys[te]=!0)}M.prevProp=V,M.prevResolvedValues=oe,M.isActive&&(y=E(E({},y),oe)),o&&e.blockInitialAnimation&&(W=!1),W&&!j&&g.push.apply(g,me([],Z(ee.map(function(A){return{animation:A,options:E({type:I},u)}})),!1))},S=0;S<wh;S++)x(S);if(r=E({},y),P.size){var w={};P.forEach(function(T){var I=e.getBaseTarget(T);I!==void 0&&(w[T]=I)}),g.push({animation:w})}var C=Boolean(g.length);return o&&f.initial===!1&&!e.manuallyAnimateOnMount&&(C=!1),o=!1,C?t(g):Promise.resolve()}function c(u,p,h){var f;if(n[u].isActive===p)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(function(P){var y;return(y=P.animationState)===null||y===void 0?void 0:y.setActive(u,p)}),n[u].isActive=p;var v=l(h,u);for(var g in n)n[g].protectedKeys={};return v}return{isAnimated:i,animateChanges:l,setActive:c,setAnimateFunction:s,getState:function(){return n}}}function Eh(e,t){return typeof t=="string"?t!==e:Fa(t)?!Ys(t,e):!1}function Ne(e){return e===void 0&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ih(){var e;return e={},e[K.Animate]=Ne(!0),e[K.InView]=Ne(),e[K.Hover]=Ne(),e[K.Tap]=Ne(),e[K.Drag]=Ne(),e[K.Focus]=Ne(),e[K.Exit]=Ne(),e}var _h={animation:De(function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=Th(t)),Kr(n)&&m.exports.useEffect(function(){return n.subscribe(t)},[n])}),exit:De(function(e){var t=e.custom,n=e.visualElement,r=Z(Ks(),2),o=r[0],a=r[1],i=m.exports.useContext(mn);m.exports.useEffect(function(){var s,l;n.isPresent=o;var c=(s=n.animationState)===null||s===void 0?void 0:s.setActive(K.Exit,!o,{custom:(l=i==null?void 0:i.custom)!==null&&l!==void 0?l:t});!o&&(c==null||c.then(a))},[o])})},Zs=function(){function e(t,n,r){var o=this,a=r===void 0?{}:r,i=a.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(!!(o.lastMoveEvent&&o.lastMoveEventInfo)){var h=Hn(o.lastMoveEventInfo,o.history),f=o.startEvent!==null,v=cs(h.offset,{x:0,y:0})>=3;if(!(!f&&!v)){var g=h.point,P=Zt().timestamp;o.history.push(E(E({},g),{timestamp:P}));var y=o.handlers,b=y.onStart,x=y.onMove;f||(b&&b(o.lastMoveEvent,h),o.startEvent=o.lastMoveEvent),x&&x(o.lastMoveEvent,h)}}},this.handlePointerMove=function(h,f){if(o.lastMoveEvent=h,o.lastMoveEventInfo=Wn(f,o.transformPagePoint),ks(h)&&h.buttons===0){o.handlePointerUp(h,f);return}ve.update(o.updatePoint,!0)},this.handlePointerUp=function(h,f){o.end();var v=o.handlers,g=v.onEnd,P=v.onSessionEnd,y=Hn(Wn(f,o.transformPagePoint),o.history);o.startEvent&&g&&g(h,y),P&&P(h,y)},!(Fs(t)&&t.touches.length>1)){this.handlers=n,this.transformPagePoint=i;var s=$r(t),l=Wn(s,this.transformPagePoint),c=l.point,u=Zt().timestamp;this.history=[E(E({},c),{timestamp:u})];var p=n.onSessionStart;p&&p(t,Hn(l,this.history)),this.removeListeners=xn(tt(window,"pointermove",this.handlePointerMove),tt(window,"pointerup",this.handlePointerUp),tt(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(t){this.handlers=t},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),nt.update(this.updatePoint)},e}();function Wn(e,t){return t?{point:t(e.point)}:e}function fi(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Hn(e,t){var n=e.point;return{point:n,delta:fi(n,Js(t)),offset:fi(n,Mh(t)),velocity:Rh(t,.1)}}function Mh(e){return e[0]}function Js(e){return e[e.length-1]}function Rh(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,o=Js(e);n>=0&&(r=e[n],!(o.timestamp-r.timestamp>tn(t)));)n--;if(!r)return{x:0,y:0};var a=(o.timestamp-r.timestamp)/1e3;if(a===0)return{x:0,y:0};var i={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Ah(e,t,n){var r=t.min,o=t.max;return r!==void 0&&e<r?e=n?$(r,e,n.min):Math.max(e,r):o!==void 0&&e>o&&(e=n?$(o,e,n.max):Math.min(e,o)),e}function pi(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Dh(e,t){var n=t.top,r=t.left,o=t.bottom,a=t.right;return{x:pi(e.x,r,a),y:pi(e.y,n,o)}}function hi(e,t){var n,r=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&(n=Z([o,r],2),r=n[0],o=n[1]),{min:r,max:o}}function Vh(e,t){return{x:hi(e.x,t.x),y:hi(e.y,t.y)}}function Oh(e,t){var n=.5,r=we(e),o=we(t);return o>r?n=wt(t.min,t.max-r,e.min):r>o&&(n=wt(e.min,e.max-o,t.min)),Jt(0,1,n)}function Lh(e,t){var n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}var pr=.35;function jh(e){return e===void 0&&(e=pr),e===!1?e=0:e===!0&&(e=pr),{x:mi(e,"left","right"),y:mi(e,"top","bottom")}}function mi(e,t,n){return{min:vi(e,t),max:vi(e,n)}}function vi(e,t){var n;return typeof e=="number"?e:(n=e[t])!==null&&n!==void 0?n:0}function Qs(e){var t=e.top,n=e.left,r=e.right,o=e.bottom;return{x:{min:n,max:r},y:{min:t,max:o}}}function kh(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}function Fh(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function el(e,t){return Qs(Fh(e.getBoundingClientRect(),t))}function Bh(e,t,n){var r=el(e,n),o=t.scroll;return o&&(Je(r.x,o.x),Je(r.y,o.y)),r}var Nh=new WeakMap,zh=function(){function e(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ne(),this.visualElement=t}return e.prototype.start=function(t,n){var r=this,o=n===void 0?{}:n,a=o.snapToCursor,i=a===void 0?!1:a;if(this.visualElement.isPresent!==!1){var s=function(p){r.stopAnimation(),i&&r.snapToCursor($r(p,"page").point)},l=function(p,h){var f,v=r.getProps(),g=v.drag,P=v.dragPropagation,y=v.onDragStart;g&&!P&&(r.openGlobalLock&&r.openGlobalLock(),r.openGlobalLock=Us(g),!r.openGlobalLock)||(r.isDragging=!0,r.currentDirection=null,r.resolveConstraints(),r.visualElement.projection&&(r.visualElement.projection.isAnimationBlocked=!0,r.visualElement.projection.target=void 0),he(function(b){var x,S,w=r.getAxisMotionValue(b).get()||0;if(ge.test(w)){var C=(S=(x=r.visualElement.projection)===null||x===void 0?void 0:x.layout)===null||S===void 0?void 0:S.actual[b];if(C){var T=we(C);w=T*(parseFloat(w)/100)}}r.originPoint[b]=w}),y==null||y(p,h),(f=r.visualElement.animationState)===null||f===void 0||f.setActive(K.Drag,!0))},c=function(p,h){var f=r.getProps(),v=f.dragPropagation,g=f.dragDirectionLock,P=f.onDirectionLock,y=f.onDrag;if(!(!v&&!r.openGlobalLock)){var b=h.offset;if(g&&r.currentDirection===null){r.currentDirection=Uh(b),r.currentDirection!==null&&(P==null||P(r.currentDirection));return}r.updateAxis("x",h.point,b),r.updateAxis("y",h.point,b),r.visualElement.syncRender(),y==null||y(p,h)}},u=function(p,h){return r.stop(p,h)};this.panSession=new Zs(t,{onSessionStart:s,onStart:l,onMove:c,onSessionEnd:u},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},e.prototype.stop=function(t,n){var r=this.isDragging;if(this.cancel(),!!r){var o=n.velocity;this.startAnimation(o);var a=this.getProps().onDragEnd;a==null||a(t,n)}},e.prototype.cancel=function(){var t,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(t=this.panSession)===null||t===void 0||t.end(),this.panSession=void 0;var r=this.getProps().dragPropagation;!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(n=this.visualElement.animationState)===null||n===void 0||n.setActive(K.Drag,!1)},e.prototype.updateAxis=function(t,n,r){var o=this.getProps().drag;if(!(!r||!Ht(t,o,this.currentDirection))){var a=this.getAxisMotionValue(t),i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=Ah(i,this.constraints[t],this.elastic[t])),a.set(i)}},e.prototype.resolveConstraints=function(){var t=this,n=this.getProps(),r=n.dragConstraints,o=n.dragElastic,a=(this.visualElement.projection||{}).layout,i=this.constraints;r&&Ze(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=Dh(a.actual,r):this.constraints=!1,this.elastic=jh(o),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&he(function(s){t.getAxisMotionValue(s)&&(t.constraints[s]=Lh(a.actual[s],t.constraints[s]))})},e.prototype.resolveRefConstraints=function(){var t=this.getProps(),n=t.dragConstraints,r=t.onMeasureDragConstraints;if(!n||!Ze(n))return!1;var o=n.current,a=this.visualElement.projection;if(!a||!a.layout)return!1;var i=Bh(o,a.root,this.visualElement.getTransformPagePoint()),s=Vh(a.layout.actual,i);if(r){var l=r(kh(s));this.hasMutatedConstraints=!!l,l&&(s=Qs(l))}return s},e.prototype.startAnimation=function(t){var n=this,r=this.getProps(),o=r.drag,a=r.dragMomentum,i=r.dragElastic,s=r.dragTransition,l=r.dragSnapToOrigin,c=r.onDragTransitionEnd,u=this.constraints||{},p=he(function(h){var f;if(!!Ht(h,o,n.currentDirection)){var v=(f=u==null?void 0:u[h])!==null&&f!==void 0?f:{};l&&(v={min:0,max:0});var g=i?200:1e6,P=i?40:1e7,y=E(E({type:"inertia",velocity:a?t[h]:0,bounceStiffness:g,bounceDamping:P,timeConstant:750,restDelta:1,restSpeed:10},s),v);return n.startAxisValueAnimation(h,y)}});return Promise.all(p).then(c)},e.prototype.startAxisValueAnimation=function(t,n){var r=this.getAxisMotionValue(t);return Nr(t,r,0,n)},e.prototype.stopAnimation=function(){var t=this;he(function(n){return t.getAxisMotionValue(n).stop()})},e.prototype.getAxisMotionValue=function(t){var n,r,o="_drag"+t.toUpperCase(),a=this.visualElement.getProps()[o];return a||this.visualElement.getValue(t,(r=(n=this.visualElement.getProps().initial)===null||n===void 0?void 0:n[t])!==null&&r!==void 0?r:0)},e.prototype.snapToCursor=function(t){var n=this;he(function(r){var o=n.getProps().drag;if(!!Ht(r,o,n.currentDirection)){var a=n.visualElement.projection,i=n.getAxisMotionValue(r);if(a&&a.layout){var s=a.layout.actual[r],l=s.min,c=s.max;i.set(t[r]-$(l,c,.5))}}})},e.prototype.scalePositionWithinConstraints=function(){var t=this,n,r=this.getProps(),o=r.drag,a=r.dragConstraints,i=this.visualElement.projection;if(!(!Ze(a)||!i||!this.constraints)){this.stopAnimation();var s={x:0,y:0};he(function(c){var u=t.getAxisMotionValue(c);if(u){var p=u.get();s[c]=Oh({min:p,max:p},t.constraints[c])}});var l=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=l?l({},""):"none",(n=i.root)===null||n===void 0||n.updateScroll(),i.updateLayout(),this.resolveConstraints(),he(function(c){if(!!Ht(c,o,null)){var u=t.getAxisMotionValue(c),p=t.constraints[c],h=p.min,f=p.max;u.set($(h,f,s[c]))}})}},e.prototype.addListeners=function(){var t=this,n;Nh.set(this.visualElement,this);var r=this.visualElement.getInstance(),o=tt(r,"pointerdown",function(c){var u=t.getProps(),p=u.drag,h=u.dragListener,f=h===void 0?!0:h;p&&f&&t.start(c)}),a=function(){var c=t.getProps().dragConstraints;Ze(c)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,s=i.addEventListener("measure",a);i&&!i.layout&&((n=i.root)===null||n===void 0||n.updateScroll(),i.updateLayout()),a();var l=Yr(window,"resize",function(){t.scalePositionWithinConstraints()});return i.addEventListener("didUpdate",function(c){var u=c.delta,p=c.hasLayoutChanged;t.isDragging&&p&&(he(function(h){var f=t.getAxisMotionValue(h);!f||(t.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),t.visualElement.syncRender())}),function(){l(),o(),s()}},e.prototype.getProps=function(){var t=this.visualElement.getProps(),n=t.drag,r=n===void 0?!1:n,o=t.dragDirectionLock,a=o===void 0?!1:o,i=t.dragPropagation,s=i===void 0?!1:i,l=t.dragConstraints,c=l===void 0?!1:l,u=t.dragElastic,p=u===void 0?pr:u,h=t.dragMomentum,f=h===void 0?!0:h;return E(E({},t),{drag:r,dragDirectionLock:a,dragPropagation:s,dragConstraints:c,dragElastic:p,dragMomentum:f})},e}();function Ht(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Uh(e,t){t===void 0&&(t=10);var n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}function Wh(e){var t=e.dragControls,n=e.visualElement,r=yn(function(){return new zh(n)});m.exports.useEffect(function(){return t&&t.subscribe(r)},[r,t]),m.exports.useEffect(function(){return r.addListeners()},[r])}function Hh(e){var t=e.onPan,n=e.onPanStart,r=e.onPanEnd,o=e.onPanSessionStart,a=e.visualElement,i=t||n||r||o,s=m.exports.useRef(null),l=m.exports.useContext(Ir).transformPagePoint,c={onSessionStart:o,onStart:n,onMove:t,onEnd:function(p,h){s.current=null,r&&r(p,h)}};m.exports.useEffect(function(){s.current!==null&&s.current.updateHandlers(c)});function u(p){s.current=new Zs(p,c,{transformPagePoint:l})}an(a,"pointerdown",i&&u),Gs(function(){return s.current&&s.current.end()})}var Gh={pan:De(Hh),drag:De(Wh)},Gt=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function Kh(){var e=Gt.map(function(){return new ht}),t={},n={clearAllListeners:function(){return e.forEach(function(r){return r.clear()})},updatePropListeners:function(r){Gt.forEach(function(o){var a,i="on"+o,s=r[i];(a=t[o])===null||a===void 0||a.call(t),s&&(t[o]=n[i](s))})}};return e.forEach(function(r,o){n["on"+Gt[o]]=function(a){return r.add(a)},n["notify"+Gt[o]]=function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return r.notify.apply(r,me([],Z(a),!1))}}),n}function Yh(e,t,n){var r;for(var o in t){var a=t[o],i=n[o];if(Se(a))e.addValue(o,a);else if(Se(i))e.addValue(o,rt(a));else if(i!==a)if(e.hasValue(o)){var s=e.getValue(o);!s.hasAnimated&&s.set(a)}else e.addValue(o,rt((r=e.getStaticValue(o))!==null&&r!==void 0?r:a))}for(var o in n)t[o]===void 0&&e.removeValue(o);return t}var tl=function(e){var t=e.treeType,n=t===void 0?"":t,r=e.build,o=e.getBaseTarget,a=e.makeTargetAnimatable,i=e.measureViewportBox,s=e.render,l=e.readValueFromInstance,c=e.removeValueFromRenderState,u=e.sortNodePosition,p=e.scrapeMotionValuesFromProps;return function(h,f){var v=h.parent,g=h.props,P=h.presenceId,y=h.blockInitialAnimation,b=h.visualState,x=h.shouldReduceMotion;f===void 0&&(f={});var S=!1,w=b.latestValues,C=b.renderState,T,I=Kh(),M=new Map,V=new Map,L={},N=E({},w),j;function B(){!T||!S||(W(),s(T,C,g.style,z.projection))}function W(){r(z,C,w,f,g)}function ee(){I.notifyUpdate(w)}function oe(R,A){var Q=A.onChange(function(Ge){w[R]=Ge,g.onUpdate&&ve.update(ee,!1,!0)}),de=A.onRenderRequest(z.scheduleRender);V.set(R,function(){Q(),de()})}var ie=p(g);for(var Y in ie){var le=ie[Y];w[Y]!==void 0&&Se(le)&&le.set(w[Y],!1)}var Ce=gn(g),te=Na(g),z=E(E({treeType:n,current:null,depth:v?v.depth+1:0,parent:v,children:new Set,presenceId:P,shouldReduceMotion:x,variantChildren:te?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(v==null?void 0:v.isMounted()),blockInitialAnimation:y,isMounted:function(){return Boolean(T)},mount:function(R){S=!0,T=z.current=R,z.projection&&z.projection.mount(R),te&&v&&!Ce&&(j=v==null?void 0:v.addVariantChild(z)),M.forEach(function(A,Q){return oe(Q,A)}),v==null||v.children.add(z),z.setProps(g)},unmount:function(){var R;(R=z.projection)===null||R===void 0||R.unmount(),nt.update(ee),nt.render(B),V.forEach(function(A){return A()}),j==null||j(),v==null||v.children.delete(z),I.clearAllListeners(),T=void 0,S=!1},addVariantChild:function(R){var A,Q=z.getClosestVariantNode();if(Q)return(A=Q.variantChildren)===null||A===void 0||A.add(R),function(){return Q.variantChildren.delete(R)}},sortNodePosition:function(R){return!u||n!==R.treeType?0:u(z.getInstance(),R.getInstance())},getClosestVariantNode:function(){return te?z:v==null?void 0:v.getClosestVariantNode()},getLayoutId:function(){return g.layoutId},getInstance:function(){return T},getStaticValue:function(R){return w[R]},setStaticValue:function(R,A){return w[R]=A},getLatestValues:function(){return w},setVisibility:function(R){z.isVisible!==R&&(z.isVisible=R,z.scheduleRender())},makeTargetAnimatable:function(R,A){return A===void 0&&(A=!0),a(z,R,g,A)},measureViewportBox:function(){return i(T,g)},addValue:function(R,A){z.hasValue(R)&&z.removeValue(R),M.set(R,A),w[R]=A.get(),oe(R,A)},removeValue:function(R){var A;M.delete(R),(A=V.get(R))===null||A===void 0||A(),V.delete(R),delete w[R],c(R,C)},hasValue:function(R){return M.has(R)},getValue:function(R,A){var Q=M.get(R);return Q===void 0&&A!==void 0&&(Q=rt(A),z.addValue(R,Q)),Q},forEachValue:function(R){return M.forEach(R)},readValue:function(R){var A;return(A=w[R])!==null&&A!==void 0?A:l(T,R,f)},setBaseTarget:function(R,A){N[R]=A},getBaseTarget:function(R){if(o){var A=o(g,R);if(A!==void 0&&!Se(A))return A}return N[R]}},I),{build:function(){return W(),C},scheduleRender:function(){ve.render(B,!1,!0)},syncRender:B,setProps:function(R){(R.transformTemplate||g.transformTemplate)&&z.scheduleRender(),g=R,I.updatePropListeners(R),L=Yh(z,p(g),L)},getProps:function(){return g},getVariant:function(R){var A;return(A=g.variants)===null||A===void 0?void 0:A[R]},getDefaultTransition:function(){return g.transition},getTransformPagePoint:function(){return g.transformPagePoint},getVariantContext:function(R){if(R===void 0&&(R=!1),R)return v==null?void 0:v.getVariantContext();if(!Ce){var A=(v==null?void 0:v.getVariantContext())||{};return g.initial!==void 0&&(A.initial=g.initial),A}for(var Q={},de=0;de<$h;de++){var Ge=nl[de],Fe=g[Ge];(fe(Fe)||Fe===!1)&&(Q[Ge]=Fe)}return Q}});return z}},nl=me(["initial"],Z(Xr),!1),$h=nl.length;function hr(e){return typeof e=="string"&&e.startsWith("var(--")}var rl=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Xh(e){var t=rl.exec(e);if(!t)return[,];var n=Z(t,3),r=n[1],o=n[2];return[r,o]}function mr(e,t,n){var r=Z(Xh(e),2),o=r[0],a=r[1];if(!!o){var i=window.getComputedStyle(t).getPropertyValue(o);return i?i.trim():hr(a)?mr(a,t):a}}function qh(e,t,n){var r,o=ue(t,[]),a=e.getInstance();if(!(a instanceof Element))return{target:o,transitionEnd:n};n&&(n=E({},n)),e.forEachValue(function(c){var u=c.get();if(!!hr(u)){var p=mr(u,a);p&&c.set(p)}});for(var i in o){var s=o[i];if(!!hr(s)){var l=mr(s,a);!l||(o[i]=l,n&&((r=n[i])!==null&&r!==void 0||(n[i]=s)))}}return{target:o,transitionEnd:n}}var Zh=new Set(["width","height","top","left","right","bottom","x","y"]),ol=function(e){return Zh.has(e)},Jh=function(e){return Object.keys(e).some(ol)},il=function(e,t){e.set(t,!1),e.set(t)},gi=function(e){return e===We||e===O},yi;(function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"})(yi||(yi={}));var bi=function(e,t){return parseFloat(e.split(", ")[t])},xi=function(e,t){return function(n,r){var o=r.transform;if(o==="none"||!o)return 0;var a=o.match(/^matrix3d\((.+)\)$/);if(a)return bi(a[1],t);var i=o.match(/^matrix\((.+)\)$/);return i?bi(i[1],e):0}},Qh=new Set(["x","y","z"]),em=Et.filter(function(e){return!Qh.has(e)});function tm(e){var t=[];return em.forEach(function(n){var r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.syncRender(),t}var Pi={width:function(e,t){var n=e.x,r=t.paddingLeft,o=r===void 0?"0":r,a=t.paddingRight,i=a===void 0?"0":a;return n.max-n.min-parseFloat(o)-parseFloat(i)},height:function(e,t){var n=e.y,r=t.paddingTop,o=r===void 0?"0":r,a=t.paddingBottom,i=a===void 0?"0":a;return n.max-n.min-parseFloat(o)-parseFloat(i)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:xi(4,13),y:xi(5,14)},nm=function(e,t,n){var r=t.measureViewportBox(),o=t.getInstance(),a=getComputedStyle(o),i=a.display,s={};i==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(function(c){s[c]=Pi[c](r,a)}),t.syncRender();var l=t.measureViewportBox();return n.forEach(function(c){var u=t.getValue(c);il(u,s[c]),e[c]=Pi[c](l,a)}),e},rm=function(e,t,n,r){n===void 0&&(n={}),r===void 0&&(r={}),t=E({},t),r=E({},r);var o=Object.keys(t).filter(ol),a=[],i=!1,s=[];if(o.forEach(function(c){var u=e.getValue(c);if(!!e.hasValue(c)){var p=n[c],h=ut(p),f=t[c],v;if(Tt(f)){var g=f.length,P=f[0]===null?1:0;p=f[P],h=ut(p);for(var y=P;y<g;y++)v?qt(ut(f[y])===v):v=ut(f[y])}else v=ut(f);if(h!==v)if(gi(h)&&gi(v)){var b=u.get();typeof b=="string"&&u.set(parseFloat(b)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&v===O&&(t[c]=f.map(parseFloat))}else(h==null?void 0:h.transform)&&(v==null?void 0:v.transform)&&(p===0||f===0)?p===0?u.set(v.transform(p)):t[c]=h.transform(f):(i||(a=tm(e),i=!0),s.push(c),r[c]=r[c]!==void 0?r[c]:t[c],il(u,f))}}),s.length){var l=nm(t,e,s);return a.length&&a.forEach(function(c){var u=Z(c,2),p=u[0],h=u[1];e.getValue(p).set(h)}),e.syncRender(),{target:l,transitionEnd:r}}else return{target:t,transitionEnd:r}};function om(e,t,n,r){return Jh(t)?rm(e,t,n,r):{target:t,transitionEnd:r}}var im=function(e,t,n,r){var o=qh(e,t,r);return t=o.target,r=o.transitionEnd,om(e,t,n,r)};function am(e){return window.getComputedStyle(e)}var al={treeType:"dom",readValueFromInstance:function(e,t){if(jt(t)){var n=kr(t);return n&&n.default||0}else{var r=am(e);return(Is(t)?r.getPropertyValue(t):r[t])||0}},sortNodePosition:function(e,t){return e.compareDocumentPosition(t)&2?1:-1},getBaseTarget:function(e,t){var n;return(n=e.style)===null||n===void 0?void 0:n[t]},measureViewportBox:function(e,t){var n=t.transformPagePoint;return el(e,n)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var o=n.transformValues;r===void 0&&(r=!0);var a=t.transition,i=t.transitionEnd,s=ue(t,["transition","transitionEnd"]),l=gh(s,a||{},e);if(o&&(i&&(i=o(i)),s&&(s=o(s)),l&&(l=o(l))),r){mh(e,s,l);var c=im(e,s,l,i);i=c.transitionEnd,s=c.target}return E({transition:a,transitionEnd:i},s)},scrapeMotionValuesFromProps:Gr,build:function(e,t,n,r,o){e.isVisible!==void 0&&(t.style.visibility=e.isVisible?"visible":"hidden"),Ur(t,n,r,o.transformTemplate)},render:Ds},sm=tl(al),lm=tl(E(E({},al),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return jt(t)?((n=kr(t))===null||n===void 0?void 0:n.default)||0:(t=Vs.has(t)?t:As(t),e.getAttribute(t))},scrapeMotionValuesFromProps:Ls,build:function(e,t,n,r,o){Hr(t,n,r,o.transformTemplate)},render:Os})),cm=function(e,t){return zr(e)?lm(t,{enableHardwareAcceleration:!1}):sm(t,{enableHardwareAcceleration:!0})};function Si(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var dt={correct:function(e,t){if(!t.target)return e;if(typeof e=="string")if(O.test(e))e=parseFloat(e);else return e;var n=Si(e,t.target.x),r=Si(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},wi="_$css",um={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,o=e,a=e.includes("var("),i=[];a&&(e=e.replace(rl,function(g){return i.push(g),wi}));var s=Pe.parse(e);if(s.length>5)return o;var l=Pe.createTransformer(e),c=typeof s[0]!="number"?1:0,u=r.x.scale*n.x,p=r.y.scale*n.y;s[0+c]/=u,s[1+c]/=p;var h=$(u,p,.5);typeof s[2+c]=="number"&&(s[2+c]/=h),typeof s[3+c]=="number"&&(s[3+c]/=h);var f=l(s);if(a){var v=0;f=f.replace(wi,function(){var g=i[v];return v++,g})}return f}},dm=function(e){ca(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.componentDidMount=function(){var n=this,r=this.props,o=r.visualElement,a=r.layoutGroup,i=r.switchLayoutGroup,s=r.layoutId,l=o.projection;zf(pm),l&&(a!=null&&a.group&&a.group.add(l),(i==null?void 0:i.register)&&s&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",function(){n.safeToRemove()}),l.setOptions(E(E({},l.options),{onExitComplete:function(){return n.safeToRemove()}}))),yt.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(n){var r=this,o=this.props,a=o.layoutDependency,i=o.visualElement,s=o.drag,l=o.isPresent,c=i.projection;return c&&(c.isPresent=l,s||n.layoutDependency!==a||a===void 0?c.willUpdate():this.safeToRemove(),n.isPresent!==l&&(l?c.promote():c.relegate()||ve.postRender(function(){var u;!((u=c.getStack())===null||u===void 0)&&u.members.length||r.safeToRemove()}))),null},t.prototype.componentDidUpdate=function(){var n=this.props.visualElement.projection;n&&(n.root.didUpdate(),!n.currentAnimation&&n.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var n=this.props,r=n.visualElement,o=n.layoutGroup,a=n.switchLayoutGroup,i=r.projection;i&&(i.scheduleCheckAfterUnmount(),o!=null&&o.group&&o.group.remove(i),a!=null&&a.deregister&&a.deregister(i))},t.prototype.safeToRemove=function(){var n=this.props.safeToRemove;n==null||n()},t.prototype.render=function(){return null},t}(Oe.Component);function fm(e){var t=Z(Ks(),2),n=t[0],r=t[1],o=m.exports.useContext(Cs);return d(dm,{...E({},e,{layoutGroup:o,switchLayoutGroup:m.exports.useContext(Ts),isPresent:n,safeToRemove:r})})}var pm={borderRadius:E(E({},dt),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:dt,borderTopRightRadius:dt,borderBottomLeftRadius:dt,borderBottomRightRadius:dt,boxShadow:um},hm={measureLayout:fm},mm=ws({attachResizeListener:function(e,t){return e.addEventListener("resize",t,{passive:!0}),function(){return e.removeEventListener("resize",t)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),Gn={current:void 0},vm=ws({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!Gn.current){var e=new mm(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Gn.current=e}return Gn.current},resetTransform:function(e,t){e.style.transform=t!=null?t:"none"}}),gm=E(E(E(E({},_h),oh),Gh),hm),kt=hp(function(e,t){return kp(e,t,gm,cm,vm)}),Ci,Ti,Ei,Ii,_i,Mi,Ri,Ai,Di,Vi,Oi,Li,ji,ki,Fi,Bi,Ni,zi,Ui,Wi,Hi,Gi,Ki,Yi,$i,Xi,qi;const ym=["badges","children","badgeProps"],bm=["children","minWidth","onCollapse","onExpand"],xm=["id","type"],Pm=["params","payload"],Sm=["params","payload"],wm=["collapsed","status","lastUpdated"],Cm=["actionsBoxElement","activeIndex","children","id","onActionStart","onKeyDown","rootRef","states"],Tm=["actionsBoxElement","children"];function G(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zi(Object(n),!0).forEach(function(r){Em(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zi(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Em(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e,t){if(e==null)return{};var n=Im(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function Im(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function qr(e){let{children:t,ms:n=0}=e;const[r,o]=m.exports.useState(n<=0);return m.exports.useEffect(()=>{if(n<=0)return;const a=setTimeout(()=>o(!0),n);return()=>{clearTimeout(a)}},[n]),!r||!t?d(q,{}):typeof t=="function"?t():t}const Zr=e=>{const{actions:t,children:n,actionProps:r,onActionComplete:o}=e;return d(ba,{onReset:o,hooks:t,args:r,children:n})},_m=e=>{const{badges:t,children:n,badgeProps:r}=e,o=je(e,ym);return d(ba,_(_({},o),{},{hooks:t,args:r,children:n}))},Mm=[];function Rm(e){const{children:t,flatIndex:n,index:r,params:o,payload:a,siblingIndex:i}=e,{navigate:s,navigateIntent:l}=At(),c=wc(),u=m.exports.useMemo(()=>(c==null?void 0:c.panes)||Mm,[c==null?void 0:c.panes]),p=r-1,h=m.exports.useCallback(y=>{const b=u[p]||[],x=b[i],S=y(b,x),w=[...u.slice(0,p),S,...u.slice(p+1)],C=_(_({},c||{}),{},{panes:w});return setTimeout(()=>s(C),0),C},[p,s,u,c,i]),f=m.exports.useCallback(y=>{h((b,x)=>[...b.slice(0,i),_(_({},x),{},{payload:y}),...b.slice(i+1)])},[h,i]),v=m.exports.useCallback(y=>{h((b,x)=>[...b.slice(0,i),_(_({},x),{},{params:y}),...b.slice(i+1)])},[h,i]),g=m.exports.useCallback(y=>{let{id:b,parentRefPath:x,type:S,template:w}=y;s({panes:[...u.slice(0,p+1),[{id:b,params:{template:w.id,parentRefPath:Cc(x),type:S},payload:w.params}]]})},[p,s,u]),P=m.exports.useMemo(()=>({index:n,groupIndex:p,siblingIndex:i,payload:a,params:o,hasGroupSiblings:u[p]?u[p].length>1:!1,groupLength:u[p]?u[p].length:0,routerPanesState:u,ChildLink:Tc,BackLink:Ec,ReferenceChildLink:Ic,handleEditReference:g,ParameterizedLink:_c,replaceCurrent:function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};h(()=>[{id:y.id||"",payload:y.payload,params:y.params||{}}])},closeCurrent:()=>{h((y,b)=>y.length>1?y.filter(x=>x!==b):y)},duplicateCurrent:y=>{h((b,x)=>{const S=_(_({},x),{},{payload:(y==null?void 0:y.payload)||x.payload,params:(y==null?void 0:y.params)||x.params});return[...b.slice(0,i),S,...b.slice(i)]})},setView:y=>{const b=Le.exports.omit(o,"view");return v(y?_(_({},b),{},{view:y}):b)},setParams:v,setPayload:f,navigateIntent:l}),[n,p,g,h,l,o,a,u,v,f,i]);return d(Mc.Provider,{value:P,children:t})}function Am(e,t,n,r){var o,a;const i={flex:e.left.flex+e.right.flex,width:e.left.width+e.right.width},s=(o=t.minWidth)!=null?o:Zn,l=(a=n.minWidth)!=null?a:Zn,c=Math.min(t.maxWidth||1/0,i.width-l),u=Math.min(n.maxWidth||1/0,i.width-s);let p=s-e.left.width;const h=e.right.width-u;p<h&&(p=h);let f=e.right.width-l;const v=c-e.left.width;f>v&&(f=v);const g=Math.min(Math.max(r,p),f),P=e.left.width+g,y=e.right.width-g,b=P/i.width*i.flex,x=y/i.width*i.flex;return{leftFlex:b,leftW:P,rightFlex:x,rightW:y}}function Dm(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const i=Array.from(o.childNodes).indexOf(r);if(n.unshift(i),o===e)return n;r=o}return n}const Ji=[];function Vm(e,t){const n=new WeakMap;for(const o of t)n.set(o,Dm(e,o));const r=(o,a)=>{const i=n.get(o)||Ji,s=n.get(a)||Ji,l=Math.max(i.length,s.length);for(let c=0;c<l;c+=1){const u=i[c]||-1,p=s[c]||-1;if(u!==p)return u-p}return 0};t.sort(r)}function Om(){const e=[],t=[],n=new WeakMap,r=new Set,o={};let a=null,i=0,s=null,l=new Map,c=!1;function u(b){r.add(b),s===b&&(s=null),y()}function p(b){r.delete(b),s=b,y()}function h(b,x){return n.set(b,_(_({},x),{},{original:x})),t.push(b),a&&Vm(a,t),p(b),()=>{const S=t.indexOf(b);S>-1&&t.splice(S,1),n.delete(b),y()}}function f(b,x,S){var w,C,T,I;const M=t.indexOf(x),V=n.get(x);if(!V)return;const L=t[M+1],N=n.get(L);if(!!N){if(b==="start"&&(c=!0,o.left={element:x,flex:V.flex||1,width:x.offsetWidth},o.right={element:L,flex:N.flex||1,width:L.offsetWidth},y()),b==="move"&&o.left&&o.right){l=new Map;const{leftW:j,rightW:B,leftFlex:W,rightFlex:ee}=Am(o,V,N,S);l.set(x,{flex:W,width:j}),l.set(L,{flex:ee,width:B}),y()}if(b==="end"){c=!1;const j=l.get(x),B=l.get(L);n.set(x,_(_({},V),{},{currentMinWidth:0,currentMaxWidth:(w=V.maxWidth)!=null?w:1/0,flex:(C=j==null?void 0:j.flex)!=null?C:V.flex})),n.set(L,_(_({},N),{},{currentMinWidth:0,currentMaxWidth:(T=V.maxWidth)!=null?T:1/0,flex:(I=B==null?void 0:B.flex)!=null?I:N.flex})),l=new Map,delete o.left,delete o.right,y()}}}function v(b){a=b}function g(b){i=b,y()}function P(b){return e.push(b),()=>{const x=e.push(b);x>-1&&e.splice(x,1)}}return{collapse:u,expand:p,mount:h,resize:f,setRootElement:v,setRootWidth:g,subscribe:P};function y(){var b,x,S,w;if(!i)return;const C=[];for(const j of t)j!==s&&C.unshift(j);s&&C.unshift(s);const T=new WeakMap,I=C.length,M=C[0],V=(I-1)*Ln;let L=i-V;for(const j of C){const B=n.get(j);if(!B)continue;const W=B.currentMinWidth||B.minWidth||Zn,ee=j===M,oe=r.has(j),ie=W>L,Y=ee?!1:oe||ie,le=l.get(j);T.set(j,{element:j,collapsed:Y,currentMinWidth:(b=le==null?void 0:le.width)!=null?b:B.currentMinWidth,currentMaxWidth:(x=le==null?void 0:le.width)!=null?x:B.currentMaxWidth,flex:(w=(S=le==null?void 0:le.flex)!=null?S:B.flex)!=null?w:1}),Y?L-=Ln:L-=W-Ln}const N=[];for(const j of t){const B=T.get(j);B&&N.push(B)}for(const j of e)j({expandedElement:s||t[t.length-1]||null,panes:N,resizing:c})}}function Lm(e){const{children:t,minWidth:n,onCollapse:r,onExpand:o}=e,a=je(e,bm),i=m.exports.useMemo(()=>Om(),[]),[s,l]=m.exports.useState(null),c=fn(s),u=(c==null?void 0:c.width)||0,p=u===void 0||!n?void 0:u<n,[h,f]=m.exports.useState({expandedElement:null,panes:[],resizing:!1});m.exports.useEffect(()=>i.setRootElement(s),[i,s]),m.exports.useEffect(()=>i.setRootWidth(u),[i,u]),m.exports.useEffect(()=>i.subscribe(f),[i]),m.exports.useEffect(()=>{p!==void 0&&(p&&r&&r(),!p&&o&&o())},[p,r,o]);const v=m.exports.useMemo(()=>({collapse:i.collapse,collapsed:p,expand:i.expand,expandedElement:h.expandedElement,mount:i.mount,panes:h.panes,resize:i.resize,resizing:h.resizing}),[p,i,h.expandedElement,h.panes,h.resizing]);return d(Rc.Provider,{value:v,children:d(Ac,_(_({"data-ui":"PaneLayout"},a),{},{"data-collapsed":p?"":void 0,"data-resizing":h.resizing?"":void 0,"data-mounted":u?"":void 0,ref:l,children:t}))})}class ot extends Error{constructor(t){let{message:n,context:r,helpId:o,cause:a}=t;super(n),this.context=r,this.helpId=o,this.cause=a}}const Qi=new WeakMap;function Sn(e){const t=Qi.get(e);if(t)return t;const n=Iu();return Qi.set(e,n),n}const ea=new WeakMap;function sl(e,t){const n=ea.get(e)||new Map;if(n){const a=n.get(t);if(a)return a}const r=e[t];if(typeof r!="function")throw new Error("Expected property `".concat(t,"` to be a function but got ").concat(typeof r," instead."));const o=r.bind(e);return n.set(t,o),ea.set(e,n),o}const jm=e=>ke(e)?typeof e.subscribe=="function"||typeof e.then=="function":!1,km=e=>ke(e)?typeof e.serialize=="function":!1,Fm=e=>(t,n,r)=>{try{return e(t,n,r)}catch(o){throw o instanceof ot?o:new ot({message:typeof(o==null?void 0:o.message)=="string"?o.message:"",context:n,cause:o})}},Bm=e=>function(){return e(...arguments).pipe(_u(1),Mu())};function ll(e){const t=Fm(Bm(e((n,r,o)=>{if(!n)throw new ot({message:"Pane returned no child",context:r,helpId:"structure-item-returned-no-child"});return jm(n)?Pa(n).pipe(pn(a=>t(a,r,o))):km(n)?t(n.serialize(r),r,o):typeof n=="function"?t(n(r.id,r),r,o):Ve(n)})));return t}async function Nm(e){const t=new Map,r=ll(l=>(c,u,p)=>{const h=c&&"".concat(Sn(c),"-").concat(u.path.join("__")),f=h&&t.get(h);if(f)return f;const v=l(c,u,p);return h&&t.set(h,v),v}),o=[[{id:"__edit__".concat(e.params.id),params:_(_({},Le.exports.omit(e.params,["id"])),{},{type:e.params.type}),payload:e.payload}]];async function a(l){let{currentId:c,flatIndex:u,intent:p,params:h,parent:f,path:v,payload:g,unresolvedPane:P,levelIndex:y,structureContext:b}=l;var x;if(!P)return[];const{id:S,type:w}=h,C=je(h,xm),I=await r(P,{id:c,splitIndex:0,parent:f,path:v,index:u,params:{},payload:void 0,structureContext:b},u).pipe(Oa()).toPromise();return I.type==="document"&&I.id===S?[{panes:[...v.slice(0,v.length-1).map(M=>[{id:M}]),[{id:S,params:C,payload:g}]],depthIndex:v.length,levelIndex:y}]:((x=I.canHandleIntent)==null?void 0:x.call(I,p,h,{pane:I,index:u}))||I.type==="documentList"&&I.schemaTypeName===w&&I.options.filter==="_type == $type"?[{panes:[...v.map(M=>[{id:M}]),[{id:h.id,params:C,payload:g}]],depthIndex:v.length,levelIndex:y}]:I.type==="list"&&I.child&&I.items?(await Promise.all(I.items.map((M,V)=>M.type==="divider"?Promise.resolve([]):a({currentId:M._id||M.id,flatIndex:u+1,intent:p,params:h,parent:I,path:[...v,M.id],payload:g,unresolvedPane:typeof I.child=="function"?sl(I,"child"):I.child,levelIndex:V,structureContext:b})))).flat():[]}const s=(await a({currentId:"root",flatIndex:0,levelIndex:0,intent:e.intent,params:e.params,parent:null,path:[],payload:e.payload,unresolvedPane:e.rootPaneNode,structureContext:e.structureContext})).sort((l,c)=>l.depthIndex===c.depthIndex?l.levelIndex-c.levelIndex:l.depthIndex-c.depthIndex)[0];return s?s.panes:o}function He(){const e=m.exports.useContext(Kl);if(!e)throw new Error("DeskTool: missing context value");return e}const zm=(e,t)=>{const n=e.replace(/^__edit__/,""),{params:r,payload:o,structureContext:{resolveDocumentNode:a}}=t,{type:i,template:s}=r;if(!i)throw new Error("Document type for document with ID ".concat(n," was not provided in the router params."));let l=a({schemaType:i,documentId:n});return l=l.id("editor").title("Editor"),s&&(l=l.initialValueTemplate(s,o)),l.serialize()};function Um(e){var t,n;return"contextHash(".concat(JSON.stringify({id:e.id,parentId:parent&&Sn(parent),path:e.path,index:e.index,splitIndex:e.splitIndex,serializeOptionsIndex:(t=e.serializeOptions)==null?void 0:t.index,serializeOptionsPath:(n=e.serializeOptions)==null?void 0:n.path}),")")}const ta=e=>{const t={type:e.type,id:e.routerPaneSibling.id,params:e.routerPaneSibling.params||{},payload:e.routerPaneSibling.payload||null,flatIndex:e.flatIndex,groupIndex:e.groupIndex,siblingIndex:e.siblingIndex,path:e.path,paneNode:e.type==="resolvedMeta"?Sn(e.paneNode):null};return"metaHash(".concat(JSON.stringify(t),")")};function Xt(e){let{unresolvedPane:t,flattenedRouterPanes:n,parent:r,path:o,resolvePane:a,structureContext:i}=e;const[s,...l]=n,c=l[0],u={id:s.routerPaneSibling.id,splitIndex:s.siblingIndex,parent:r,path:[...o,s.routerPaneSibling.id],index:s.flatIndex,params:s.routerPaneSibling.params||{},payload:s.routerPaneSibling.payload,structureContext:i};try{return a(t,u,s.flatIndex).pipe(pn(p=>{const h=_(_({type:"resolvedMeta"},s),{},{paneNode:p,path:u.path}),f=l.map((g,P)=>{const y=[...u.path,...l.slice(P).map((x,S)=>"[".concat(g.flatIndex+S,"]"))];return _({type:"loading",path:y,paneNode:null},g)});if(!l.length)return Ve([h]);let v;return c!=null&&c.routerPaneSibling.id.startsWith("__edit__")?v=Xt({unresolvedPane:zm,flattenedRouterPanes:l,parent:r,path:u.path,resolvePane:a,structureContext:i}):s.groupIndex===(c==null?void 0:c.groupIndex)?v=Xt({unresolvedPane:t,flattenedRouterPanes:l,parent:r,path:o,resolvePane:a,structureContext:i}):v=Xt({unresolvedPane:typeof p.child=="function"?sl(p,"child"):p.child,flattenedRouterPanes:l,parent:p,path:u.path,resolvePane:a,structureContext:i}),Sa(Ve([h,...f]),v.pipe(Ue(g=>[h,...g])))}))}catch(p){if(p instanceof ot&&(p.context&&console.warn("Pane resolution error at index ".concat(p.context.index).concat(p.context.splitIndex>0?" for split pane index ".concat(p.context.splitIndex):"",": ").concat(p.message).concat(p.helpId?" - see ".concat(Ma(p.helpId)):""),p),p.helpId==="structure-item-returned-no-child"))return Ve([]);throw p}}function Wm(e){let{routerPanesStream:t,rootPaneNode:n,initialCacheState:r={cacheKeysByFlatIndex:[],flattenedRouterPanes:[],resolvedPaneCache:new Map,resolvePane:()=>mu},structureContext:o}=e;return t.pipe(Ue(i=>[[{id:"root"}],...i]),Ue(i=>i.flatMap((l,c)=>l.map((u,p)=>({routerPaneSibling:u,groupIndex:c,siblingIndex:p}))).map((l,c)=>_(_({},l),{},{flatIndex:c}))),$c([]),ku(),Ue(i=>{let[s,l]=i;for(let c=0;c<l.length;c++){const u=s[c],p=l[c];if(!Le.exports.isEqual(u,p))return{flattenedRouterPanes:l,diffIndex:c}}return{flattenedRouterPanes:l,diffIndex:l.length}}),mo((i,s)=>{const{cacheKeysByFlatIndex:l,resolvedPaneCache:c}=i,{flattenedRouterPanes:u,diffIndex:p}=s,h=l.slice(0,p+1),f=l.slice(p+1),v=new Set(h.flatMap(y=>Array.from(y))),g=f.flatMap(y=>Array.from(y)).filter(y=>!v.has(y));for(const y of g)c.delete(y);return{flattenedRouterPanes:u,cacheKeysByFlatIndex:l,resolvedPaneCache:c,resolvePane:ll(y=>(b,x,S)=>{const w=b&&"".concat(Sn(b),"-").concat(Um(x)),C=w&&c.get(w);if(C)return C;const T=y(b,x,S);if(!w)return T;const I=l[S]||new Set;return I.add(w),l[S]=I,c.set(w,T),T})}},r),pn(i=>{let{flattenedRouterPanes:s,resolvePane:l}=i;return Xt({unresolvedPane:n,flattenedRouterPanes:s,parent:null,path:[],resolvePane:l,structureContext:o})})).pipe(mo((i,s)=>s.map((l,c)=>{const u=i[c];return!u||l.type!=="loading"?l:u.routerPaneSibling.id===l.routerPaneSibling.id?u:l}),[]),la((i,s)=>{if(i.length!==s.length)return!1;for(let l=0;l<s.length;l++){const c=i[l],u=s[l];if(ta(c)!==ta(u))return!1}return!0}))}function Hm(){const e=m.exports.useMemo(()=>new Xc(1),[]),t=m.exports.useMemo(()=>e.asObservable().pipe(Ue(r=>(r==null?void 0:r.panes)||[])),[e]),{state:n}=At();return m.exports.useEffect(()=>{e.next(n)},[n,e]),t}function Gm(){const[e,t]=m.exports.useState();if(e)throw e;const{structureContext:n,rootPaneNode:r}=He(),[o,a]=m.exports.useState({paneDataItems:[],resolvedPanes:[],routerPanes:[]}),i=Hm();return m.exports.useEffect(()=>{const l=Wm({rootPaneNode:r,routerPanesStream:i,structureContext:n}).pipe(Ue(c=>{const u=c.reduce((f,v)=>{const g=f[v.groupIndex]||[];return g[v.siblingIndex]=v.routerPaneSibling,f[v.groupIndex]=g,f},[]),p=u.length,h=c.map(f=>{var v;const{groupIndex:g,flatIndex:P,siblingIndex:y,routerPaneSibling:b,path:x}=f,S=b.id,w=u[g+1];return{active:g===p-2,childItemId:(v=w==null?void 0:w[0].id)!=null?v:null,index:P,itemId:b.id,groupIndex:g,key:"".concat(f.type==="loading"?"unknown":f.paneNode.id,"-").concat(S,"-").concat(y),pane:f.type==="loading"?$n:f.paneNode,params:b.params||{},path:x.join(";"),payload:b.payload,selected:P===c.length-1,siblingIndex:y}});return{paneDataItems:h,routerPanes:u,resolvedPanes:h.map(f=>f.pane)}})).subscribe({next:c=>a(c),error:c=>t(c)});return()=>l.unsubscribe()},[r,i,n]),o}function Km(e){let{panes:t}=e;const{navigate:n}=At();return m.exports.useEffect(()=>{n({panes:t},{replace:!0})},[n,t]),d(xe,{height:"fill",children:d(qr,{ms:300,children:D(H,{align:"center",direction:"column",height:"fill",justify:"center",children:[d(it,{muted:!0}),d(k,{marginTop:3,children:d(F,{muted:!0,size:1,children:"Redirecting\u2026"})})]})})})}async function Ym(e,t,n){if(t&&n)return{id:t,type:n};if(!t&&n)return{id:Ru(),type:n};if(t&&!n){const r=await e.resolveTypeForDocument(t).pipe(Oa()).toPromise();return{id:t,type:r}}throw new ot({message:"Neither document `id` or `type` was provided when trying to resolve intent."})}function $m(e){let{intent:t,params:n={},payload:r}=e;const{rootPaneNode:o,structureContext:a}=He(),i=_a(),s=_e(n),l=_e(r),[c,u]=m.exports.useState(null),[p,h]=m.exports.useState(null),f=typeof s.id=="string"?s.id:void 0,v=typeof s.type=="string"?s.type:void 0;if(m.exports.useEffect(()=>{const g={current:!1};async function P(){const{id:y,type:b}=await Ym(i,f,v);return Nm({intent:t,params:_(_({},s),{},{id:y,type:b}),payload:l,rootPaneNode:o,structureContext:a})}return P().then(y=>{g.current||u(y)}).catch(h),()=>{g.current=!0}},[i,f,t,s,l,o,a,v]),p)throw p;return c?d(Km,{panes:c}):d(xe,{height:"fill",children:d(qr,{ms:300,children:D(H,{align:"center",direction:"column",height:"fill",justify:"center",children:[d(it,{muted:!0}),d(k,{marginTop:3,children:d(F,{align:"center",muted:!0,size:1,children:"Loading\u2026"})})]})})})}const Xm=X.span(Ci||(Ci=G([`
  &:not(:last-child)::after {
    content: ' \u279D ';
    opacity: 0.5;
  }
`])));function qm(e){return e.replace(/\(\.\.\.\)\./g,`(...)
  .`).replace(/__WEBPACK_IMPORTED_MODULE_\d+_+/g,"").replace(/___default\./g,".").replace(new RegExp(" \\(https?:\\/\\/".concat(window.location.host),"g")," (")}function Zm(e){let{error:t}=e;if(!(t instanceof ot))throw t;const{cause:n}=t,r=(n==null?void 0:n.stack)||t.stack,o=r&&!(n instanceof On)&&!t.message.includes("Module build failed:"),a=n instanceof On?n.path:[],i=n instanceof On&&n.helpId||t.helpId,s=m.exports.useCallback(()=>{window.location.reload()},[]);return d(xe,{height:"fill",overflow:"auto",padding:4,sizing:"border",tone:"critical",children:D(Mt,{children:[d(qc,{as:"h2",children:"Encountered an error while reading structure"}),D(xe,{marginTop:4,padding:4,radius:2,overflow:"auto",shadow:1,tone:"inherit",children:[a.length>0&&D(ye,{space:2,children:[d(vo,{children:"Structure path"}),d(qn,{children:a.slice(1).map((l,c)=>d(Xm,{children:l},"".concat(l,"-").concat(c)))})]}),D(ye,{marginTop:4,space:2,children:[d(vo,{children:"Error"}),d(qn,{children:o?qm(r):t.message})]}),i&&d(k,{marginTop:4,children:d(F,{children:d("a",{href:Ma(i),rel:"noopener noreferrer",target:"_blank",children:"View documentation"})})}),d(k,{marginTop:4,children:d(re,{text:"Reload",icon:va,tone:"primary",onClick:s})})]})]})})}function Jm(e){const{isSelected:t,pane:n,paneKey:r}=e,o=ke(n)&&n.type||null;return D(ln,{id:r,selected:t,children:[d(dn,{title:"Unknown pane type"}),d(It,{children:d(k,{padding:4,children:typeof o=="string"?D(F,{as:"p",muted:!0,children:["Structure item of type ",d("code",{children:o})," is not a known entity."]}):D(F,{as:"p",muted:!0,children:["Structure item is missing required ",d("code",{children:"type"})," property."]})})})]})}function Qm(e){const t=[{ms:300,message:"Loading\u2026"},{ms:5e3,message:"Still loading\u2026"}],n=Ve(null);return Zc(...t.map(r=>{let{ms:o,message:a}=r;return n.pipe(Jc(a),Qc(o))}))}const ev="Loading\u2026",tv=X(H)(Ti||(Ti=G([`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`]))),wn=m.exports.memo(e=>{const{delay:t=300,flex:n,message:r=Qm,minWidth:o,paneKey:a,path:i,selected:s,title:l,tone:c}=e,u=m.exports.useMemo(()=>typeof r=="function"?r(i?i.split(";"):[]):r,[r,i]),[p,h]=m.exports.useState(()=>typeof u=="string"?u:ev);m.exports.useEffect(()=>{if(typeof u!="object"||typeof u.subscribe=="function")return;const b=u.subscribe(h);return()=>b.unsubscribe()},[u]);const[f,v]=m.exports.useState(null),[g,P]=m.exports.useState(!1);return m.exports.useEffect(()=>{if(!!f)return Yl(()=>P(!0))},[f]),d(ln,{flex:n,id:a,minWidth:o,selected:s,tone:c,children:d(It,{children:D(tv,{align:"center","data-mounted":g?"":void 0,direction:"column",height:"fill",justify:"center",ref:v,children:[d(it,{muted:!0}),(l||p)&&d(k,{marginTop:3,children:d(F,{align:"center",muted:!0,size:1,children:l||p})})]})})})});wn.displayName="LoadingPane";const nv={component:m.exports.lazy(()=>Bt(()=>import("./index-cf340a7d.esm.7d015cfd.js"),["static/index-cf340a7d.esm.7d015cfd.js","static/sanity.74416068.js","static/index.0900f6a6.js"])),document:m.exports.lazy(()=>Bt(()=>import("./index-cf8d3806.esm.7ddcb997.js"),["static/index-cf8d3806.esm.7ddcb997.js","static/sanity.74416068.js","static/index.0900f6a6.js"])),documentList:m.exports.lazy(()=>Bt(()=>import("./index-312d4f55.esm.57e4b928.js"),["static/index-312d4f55.esm.57e4b928.js","static/sanity.74416068.js","static/PaneItem-c5593821.esm.3fbbcd3c.js","static/index.0900f6a6.js"])),list:m.exports.lazy(()=>Bt(()=>import("./index-5d6f54b8.esm.616b5663.js"),["static/index-5d6f54b8.esm.616b5663.js","static/sanity.74416068.js","static/PaneItem-c5593821.esm.3fbbcd3c.js","static/index.0900f6a6.js"]))},rv=m.exports.memo(function(t){const{active:n,childItemId:r,groupIndex:o,index:a,itemId:i,pane:s,paneKey:l,params:c,payload:u,selected:p,siblingIndex:h}=t,f=nv[s.type]||Jm;return d(Rm,{flatIndex:a,index:o,params:c,payload:u,siblingIndex:h,children:d(m.exports.Suspense,{fallback:d(wn,{paneKey:l}),children:d(f,{childItemId:r||"",index:a,itemId:i,isActive:n,isSelected:p,paneKey:l,pane:s})})})},(e,t)=>{let{params:n={},payload:r=null}=t,o=je(t,Pm),{params:a={},payload:i=null}=e,s=je(e,Sm);if(!Le.exports.isEqual(a,n)||!Le.exports.isEqual(i,r))return!1;const l=new Set([...Object.keys(s),...Object.keys(o)]);for(const c of l)if(s[c]!==o[c])return!1;return!0});function cl(e){const{children:t,flex:n,minWidth:r,paneKey:o,title:a="Error",tone:i="critical"}=e;return D(ln,{flex:n,id:o,minWidth:r,tone:i,children:[d(dn,{title:a}),d(It,{overflow:"auto",children:d(k,{paddingX:4,paddingY:5,children:t})})]})}function ov(e){return e==="delete"?`An error occurred while attempting to delete this document.
      This usually means that there are other documents that refers to it.`:e==="unpublish"?`An error occurred while attempting to unpublish this document.
      This usually means that there are other documents that refers to it.`:"An error occurred during ".concat(e)}function iv(e){return e==="publish"?"The document was published":e==="unpublish"?"The document was unpublished. A draft has been created from the latest published version.":e==="discardChanges"?"All changes since last publish has now been discarded. The discarded draft can still be recovered from history":e==="delete"?"This document was deleted. It can still be recovered from history and if you continue editing it will be recreated.":"Successfully performed ".concat(e," on document")}const av=["patch","commit"],sv=m.exports.memo(function(){const{push:t}=cn(),{documentId:n,documentType:r}=J(),o=$l(n,r),a=m.exports.useRef(o);return m.exports.useEffect(()=>{!o||o===a.current||(o.type==="error"&&t({closable:!0,duration:3e4,status:"error",title:ov(o.op),description:D("details",{children:[d("summary",{children:"Details"}),o.error.message]})}),o.type==="success"&&!av.includes(o.op)&&t({closable:!0,status:"success",title:iv(o.op)}),a.current=o)},[o,t]),null}),lv=e=>{const{features:t,hasValue:n,changesOpen:r}=e;return t.reviewChanges?{action:"reviewChanges",title:"Review changes",icon:eu,isDisabled:r||!n}:null},cv=e=>{let{hasValue:t}=e;return{action:"inspect",title:"Inspect",icon:tu,isDisabled:!t,shortcut:"Ctrl+Alt+I"}},uv=e=>{let{previewUrl:t}=e;return t?{action:"production-preview",title:"Open preview",icon:nu,shortcut:"Ctrl+Alt+O"}:null},dv=e=>[uv,lv,cv].filter(Boolean).map(n=>n(e)).filter(n=>n!==null),fv=e=>ke(e)&&typeof e._id=="string"&&typeof e._type=="string";function pv(e){const[t,n]=m.exports.useState(void 0),[r,o]=m.exports.useState(null),{resolveProductionUrl:a}=un().document,i=Nu(e);if(r)throw r;return m.exports.useEffect(()=>{i.pipe(xa(500),pn(s=>fv(s)?Pa(a({document:s})):Ve(void 0)),Dc(s=>{const l=ke(s)&&typeof s.message=="string"?s.message:"Unknown error";throw new Error("An error was thrown while trying to get your preview url: ".concat(l))})).subscribe({next:n,error:o})},[a,i]),t}function hv(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn('Conflicting templates: URL says "'.concat(t.urlTemplate,'", structure node says "').concat(r,'". Using "').concat(r,'".'));const o=r||t.urlTemplate,a=e.filter(l=>l.schemaType===t.documentType),i=_(_({},t.templateParams),typeof n=="object"?n||{}:{});let s=o;return!o&&a.length===1&&(s=a[0].id),{templateName:s,templateParams:i}}const mv={},ul=m.exports.memo(e=>{const{children:t,index:n,pane:r,paneKey:o}=e,a=Xl(ql),i=ua(),s=da(),{actions:l,badges:c,unstable_languageFilter:u}=un().document,p=Zl(),h=Jl(),f=_t(),{features:v}=He(),{push:g}=cn(),{options:P,menuItemGroups:y,title:b=null,views:x=[]}=r,S=_e(P),w=S.id,C=Yn(w),T=P.type,I=_e(f.params),M=_e(f.payload),{templateName:V,templateParams:L}=m.exports.useMemo(()=>hv(s,{documentType:T,templateName:S.template,templateParams:S.templateParameters,panePayload:M,urlTemplate:I==null?void 0:I.template}),[T,S,I,M,s]),N=Ql({documentId:C,documentType:T,templateName:V,templateParams:L}),j=_e(N),{patch:B}=ec(C,T),W=tc(C,T),{validation:ee}=nc(C,T),oe=rc(C,T),ie=i.get(T),Y=(W==null?void 0:W.draft)||(W==null?void 0:W.published)||j.value,le=m.exports.useMemo(()=>l({schemaType:T,documentId:C}),[l,C,T]),Ce=m.exports.useMemo(()=>c({schemaType:T,documentId:C}),[c,C,T]),te=m.exports.useMemo(()=>u({schemaType:T,documentId:C}),[C,T,u]),z=_e(ee),R=_e(x),A=f.params||mv,[Q,de]=m.exports.useState(()=>A.path?bt(A.path):[]),Ge=A.view||R[0]&&R[0].id||null,Fe=m.exports.useMemo(()=>p.getTimeline({publishedId:C,enableTrace:fa}),[C,p]),[bl,xl]=m.exports.useState("closed"),{historyController:Te}=pa(()=>p.getTimelineController({client:a,documentId:C,documentType:T,timeline:Fe}),[a,C,T,Fe]);Te.setRange(A.since||null,A.rev||null);const at=Te.changesPanelActive(),Ke=pv(Y),[Pl,Sl]=m.exports.useState([]);m.exports.useEffect(()=>{const U=h.documentPresence(C).subscribe(se=>{Sl(se)});return()=>{U.unsubscribe()}},[C,h]);const Qr=Boolean(Y),Cn=m.exports.useMemo(()=>dv({features:v,hasValue:Qr,changesOpen:at,previewUrl:Ke}),[v,Qr,at,Ke]),Tn=A.inspect==="on",eo=at?Te.sinceAttributes():(W==null?void 0:W.published)||null,En=oe==="connected"&&W.ready,to=Te.onOlderRevision(),no=m.exports.useMemo(()=>to?Te.displayed()||{_id:Y._id,_type:Y._type}:Y,[Te,A.rev,A.since,Y,to]),wl=m.exports.useCallback((U,se)=>{f.setParams(_(_({},f.params),{},{since:U,rev:se||void 0}))},[f]),Cl=m.exports.useCallback(U=>{de(U),h.setLocation([{type:"document",documentId:C,path:U,lastActiveAt:new Date().toISOString()}])},[C,h,de]),Tl=m.exports.useCallback(U=>{de([])},[de]),ro=m.exports.useRef(()=>{throw new Error("Nope")});ro.current=U=>{B.execute(oc(U.patches),j.value)};const El=m.exports.useCallback(U=>ro.current(U),[]),Il=m.exports.useCallback(()=>{f.setParams(_(_({},A),{},{since:void 0}))},[f,A]),In=m.exports.useCallback(()=>{f.setParams(_(_({},A),{},{since:"@lastPublished"}))},[f,A]),_l=m.exports.useCallback(()=>f.closeCurrent(),[f]),Ml=m.exports.useCallback(()=>f.duplicateCurrent(),[f]),Ft=m.exports.useCallback(function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!Tn)?f.setParams(_(_({},A),{},{inspect:"on"})):f.setParams(Le.exports.omit(A,"inspect"))},[Tn,f,A]),_n=m.exports.useCallback(U=>U.action==="production-preview"&&Ke?(window.open(Ke),!0):U.action==="inspect"?(Ft(!0),!0):U.action==="reviewChanges"?(In(),!0):!1,[In,Ke,Ft]),Rl=m.exports.useCallback(U=>{for(const se of Cn)if(se.shortcut&&yr(se.shortcut,U)){U.preventDefault(),U.stopPropagation(),_n(se);return}},[_n,Cn]),Al=m.exports.useCallback(()=>Ft(!1),[Ft]),[Dl,Vl]=m.exports.useState([]),[Ol,oo]=m.exports.useState(),[io,ao]=m.exports.useState(),[so,lo]=m.exports.useState(),Ll=m.exports.useCallback((U,se)=>{ao(ce=>Ye(ce,U,se))},[]),jl=m.exports.useCallback((U,se)=>{lo(ce=>Ye(ce,U,se))},[]),kl=m.exports.useCallback((U,se)=>oo(ce=>Ye(ce,U,se)),[]),Fl=Y._createdAt?"update":"create",co=m.exports.useMemo(()=>Boolean(ie==null?void 0:ie.liveEdit),[T,i]),Mn=Y._id?Y._id:"dummy-id",Bl=m.exports.useMemo(()=>_(_({},Y),{},{_id:co?Yn(Mn):ic(Mn)}),[co,Y,Mn]),[st,Rn]=ac({document:Bl,permission:Fl}),{revTime:uo}=Te,fo=!(Y!=null&&Y._id),Nl=m.exports.useMemo(()=>!En||uo!==null||!Rn&&!(st!=null&&st.granted)||!po(ie,"update")||fo&&!po(ie,"create"),[fo,Rn,st==null?void 0:st.granted,En,uo,ie]),An=sc(ie,{value:no,readOnly:Nl,comparisonValue:eo,focusPath:Q,openPath:Dl,collapsedPaths:io,presence:Pl,validation:z,collapsedFieldSets:so,fieldGroupState:Ol,changesOpen:at}),Dn=m.exports.useRef(An);Dn.current=An;const zl=m.exports.useCallback(U=>{lc(Dn.current,U).forEach(ce=>{ce.type==="expandPath"&&ao(lt=>Ye(lt,ce.path,!1)),ce.type==="expandFieldSet"&&lo(lt=>Ye(lt,ce.path,!1)),ce.type==="setSelectedGroup"&&oo(lt=>Ye(lt,ce.path,ce.groupName))}),Vl(U)},[Dn]),Ul={actions:le,activeViewId:Ge,badges:Ce,changesOpen:at,collapsedFieldSets:so,collapsedPaths:io,compareValue:eo,connectionState:oe,displayed:no,documentId:C,documentIdRaw:w,documentType:T,editState:W,focusPath:Q,menuItems:Cn,onBlur:Tl,onChange:El,onFocus:Cl,onPathOpen:zl,onHistoryClose:Il,onHistoryOpen:In,onInspectClose:Al,onKeyUp:Rl,onMenuAction:_n,onPaneClose:_l,onPaneSplit:Ml,onSetActiveFieldGroup:kl,onSetCollapsedPath:Ll,onSetCollapsedFieldSet:jl,historyController:Te,index:n,inspectOpen:Tn,validation:z,menuItemGroups:y||[],paneKey:o,previewUrl:Ke,ready:En,schemaType:ie,isPermissionsLoading:Rn,permissions:st,setTimelineMode:xl,setTimelineRange:wl,timeline:Fe,timelineMode:bl,title:b,value:Y,views:R,formState:An,unstable_languageFilter:te};return m.exports.useEffect(()=>{oe==="reconnecting"&&g({id:"sanity/desk/reconnecting",status:"warning",title:d(q,{children:"Connection lost. Reconnecting\u2026"})})},[oe,g]),m.exports.useEffect(()=>{de(A.path?bt(A.path):[])},[C,A.path]),d(cc.Provider,{value:Ul,children:t})});ul.displayName="DocumentPaneProvider";const vv={create:"created",delete:"deleted",discardDraft:"discarded draft",initial:"created",editDraft:"edited",editLive:"live edited",publish:"published",unpublish:"unpublished"},gv={create:yo,delete:Vu,discardDraft:xt,initial:yo,editDraft:bo,editLive:bo,publish:Ea,unpublish:Ou};function vr(e){return vv[e]}function yv(e){return gv[e]}function bv(e,t){return{topSelection:t,bottomSelection:e,disabledBeforeSelection:!0}}function xv(e){return{topSelection:e,bottomSelection:e}}function Pv(e){let{maxLength:t,userIds:n}=e;return d(Ra,{maxLength:t,children:n.map(r=>d(Aa,{user:r,withTooltip:!0},r))})}const $e=X(H)(e=>{let{theme:t}=e;var n;const r=(n=t.sanity.color.base.skeleton)==null?void 0:n.from;return Me(Ei||(Ei=G([`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: `,`;
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `])),r)}),Sv=X(ha)(e=>{let{state:t="enabled",isHovered:n,theme:r}=e;const{color:o}=r.sanity,a=o.button.default.primary.enabled;return Me(Ii||(Ii=G([`
    position: relative;
    min-width: 244px;

    `,`

    `,`

      `,`

    // line styling \u{1F447}
      &:first-child `,`::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &:last-child `,`::before {
      height: 50%;
    }

    `,`

    // Remove timeline lines when using the keyboard to navigate timeline items
    &:focus `,`::before {
      background: transparent;
    }
  `])),t==="selected"&&Me(_i||(_i=G([`
      --card-bg-color: `,`;
      --card-fg-color: `,`;
      --card-muted-fg-color: `,`;
      --card-border-color: `,`;
      &:not([data-selection-bottom='true']) {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
      }
    `])),a.bg,a.fg,a.muted,a.bg),t==="withinSelection"&&Me(Mi||(Mi=G([`
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
      box-shadow: 0px 3px 0px 0px var(--card-bg-color);
      &:not([data-selection-top='true']) {
        border-radius: 0;
      }

      `,` {
        &::before {
          background: var(--card-hairline-soft-color);
        }
      }
    `])),$e),t==="disabled"&&Me(Ri||(Ri=G([`
      [data-ui='Avatar'] {
        opacity: 0.2;
      }
    `]))),$e,$e,(n||t==="selected")&&Me(Ai||(Ai=G([`
      `,`::before {
        background: transparent;
      }
    `])),$e),$e)}),wv=X(k)(Di||(Di=G([`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`]))),Cv=X(F)(Vi||(Vi=G([`
  text-transform: capitalize;
`]))),Tv={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function Ev(e){const{isSelectionBottom:t,isSelectionTop:n,state:r,onSelect:o,timestamp:a,chunk:i,type:s}=e,l=yv(s),c=Array.from(i.authors),u=Re(a,{minimal:!0}),p=r==="selected",h=r==="withinSelection",[f,v]=m.exports.useState(!1),g=m.exports.useCallback(P=>{P.preventDefault(),P.stopPropagation(),o(i)},[o,i]);return d(Sv,{"data-ui":"timelineItem",radius:2,"data-chunk-id":i.id,paddingY:0,paddingX:2,tone:f||p||h?"default":Tv[s],pressed:h,state:r,selected:p,isHovered:f,disabled:r==="disabled","data-selection-bottom":t,"data-selection-top":n,onClick:g,children:d("div",{onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:D(H,{align:"stretch",children:[d($e,{align:"center",children:d(wv,{padding:2,children:d(F,{size:2,children:l&&m.exports.createElement(l)})})}),D(ye,{space:2,margin:2,children:[d(k,{children:d(Cv,{size:1,weight:"medium",children:vr(s)||d("code",{children:s})})}),d(F,{size:0,muted:!0,children:u})]}),d(H,{flex:1,justify:"flex-end",align:"center",children:d(Pv,{maxLength:3,userIds:c})})]})})})}const Iv=X(k)(Oi||(Oi=G([`
  overflow: auto;
  -webkit-overflow-scrolling: touch;
`]))),_v=X(ye)(Li||(Li=G([`
  max-width: 200px;
`]))),Mv=X(br)(ji||(ji=G([`
  overflow: auto;
  box-sizing: border-box;
  max-height: calc(100vh - 198px);
`]))),Rv=20,gr=e=>{let{timeline:t,disabledBeforeSelection:n,topSelection:r,bottomSelection:o,onSelect:a,onLoadMore:i}=e;const s=m.exports.useRef(null),l=m.exports.useRef(null),[c,u]=m.exports.useState(null);let p=n?"disabled":"enabled";const h=m.exports.useCallback(()=>{const f=s.current;if(c&&f){const{offsetHeight:v,scrollTop:g}=f,P=v+g+Rv,y=c.offsetTop<P;y&&requestAnimationFrame(()=>i(y))}},[i,c]);return m.exports.useEffect(h,[h]),D(Iv,{ref:s,onScroll:h,"data-ui":"timeline",children:[t.chunkCount===0&&D(_v,{padding:3,space:3,children:[d(F,{size:1,weight:"semibold",children:"No document history"}),d(F,{muted:!0,size:1,children:"When changing the content of the document, the document versions will appear in this menu."})]}),t.chunkCount>0&&d(Mv,{ref:l,padding:1,space:0,children:t.mapChunks(f=>{const v=r===f,g=o===f;v&&(p="withinSelection"),g&&(p="selected");const P=d(Ev,{chunk:f,isSelectionBottom:g,isSelectionTop:v,state:p,onSelect:a,type:f.type,timestamp:f.endTimestamp},f.id);return p==="selected"&&(p="enabled"),P})}),!t.reachedEarliestEntry&&d(H,{align:"center",justify:"center",padding:4,ref:u,children:d(it,{muted:!0})})]})};gr.displayName="Timeline";const Av=X(xr)(ki||(ki=G([`
  & > div {
    display: flex;
    flex-direction: column;

    & > [data-ui='Card'] {
      flex: 1;
      min-height: 0;
      display: flex;
      flex-direction: column;

      /* This is the scrollable container rendered by <Timeline /> */
      & > div {
        flex: 1;
        min-height: 0;
      }
    }
  }
`])));function dl(e){let{chunk:t,mode:n,placement:r}=e;const{historyController:o,setTimelineRange:a,setTimelineMode:i,timeline:s,ready:l}=J(),[c,u]=m.exports.useState(!1),[p,h]=m.exports.useState(null),[f,v]=m.exports.useState(null),g=m.exports.useCallback(()=>{i(n),u(!0)},[n,i]),P=m.exports.useCallback(()=>{i("closed"),u(!1)},[i]),y=m.exports.useCallback(()=>{P()},[P]);wr(y,[f,p]);const b=m.exports.useCallback(L=>{const[N,j]=o.findRangeForNewRev(L);i("closed"),u(!1),a(N,j)},[o,i,a]),x=m.exports.useCallback(L=>{const[N,j]=o.findRangeForNewSince(L);i("closed"),u(!1),a(N,j)},[o,i,a]),S=m.exports.useCallback(L=>{o.setLoadMore(L)},[o]),w=c&&d("div",{ref:v,children:n==="rev"?d(gr,_({onSelect:b,onLoadMore:S,timeline:s},xv(o.realRevChunk))):d(gr,_({onSelect:x,onLoadMore:S,timeline:s},bv(o.sinceTime,o.realRevChunk)))}),C=Re((t==null?void 0:t.endTimestamp)||"",{agoSuffix:!0}),T=t?"".concat(Le.exports.upperFirst(vr(t.type))," ").concat(C):"Current version",I=t?"Since ".concat(vr(t.type)," ").concat(C):"Since unknown version";return d(Av,{constrainSize:!0,content:w,"data-ui":"versionMenu",open:c,placement:r,portal:!0,children:d(re,{disabled:!l,mode:"bleed",fontSize:1,padding:2,iconRight:Vc,onClick:c?P:g,ref:h,selected:c,text:c?n==="rev"?"Select version":"Review changes since":n==="rev"?T:I})})}function Dv(){return D(H,{align:"center",justify:"center",children:[d(it,{muted:!0}),d(k,{marginTop:3,children:d(F,{align:"center",children:"Loading changes\u2026"})})]})}function Vv(e){const t=new Map;return vu(e,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:o}=n.annotation,a=t.get(r);return(!a||a.timestamp<o)&&t.set(r,n.annotation),!0}),Array.from(t.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}const Ov=X(ma)(Fi||(Fi=G([`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`])));function Lv(){const{documentId:e,onHistoryClose:t,historyController:n,schemaType:r,value:o}=J(),{collapsed:a}=ru(),i=m.exports.useRef(null),l=n.selectionState==="loading",c=n.sinceTime,u=n.currentObjectDiff(),p=!n.onOlderRevision(),h=Oe.useMemo(()=>({documentId:e,schemaType:r,FieldWrapper:ou,rootDiff:u,isComparingCurrent:p,value:o}),[e,u,p,r,o]),f=Oe.useMemo(()=>u?Vv(u):[],[u]);return a?null:D(H,{direction:"column",flex:1,style:{borderLeft:"1px dashed var(--card-border-color)",overflow:"hidden",minWidth:320},"data-testid":"review-changes-pane",children:[d(dn,{actions:d(re,{icon:xt,mode:"bleed",onClick:t,padding:3,title:"Hide changes panel"}),subActions:f.length>0&&d(k,{paddingRight:1,children:d(iu,{annotations:f,description:"Changes by",placement:"bottom-end",children:d(Ra,{maxLength:4,children:f.map(v=>{let{author:g}=v;return d(Aa,{user:g},g)})})})}),tabs:d(dl,{mode:"since",chunk:c,placement:"bottom-start"}),title:"Changes"}),d(It,{children:d(Tr,{element:i.current,children:d(Ov,{"data-ui":"Scroller",ref:i,children:d(k,{flex:1,padding:4,children:d(jv,{diff:u,documentContext:h,loading:l})})})})})]})}function jv(e){let{diff:t,documentContext:n,loading:r}=e;const{schemaType:o}=J();return r?d(Dv,{}):t?d(su.Provider,{value:n,children:d(lu,{diff:t,schemaType:o})}):d(au,{})}function kv(e,t,n){const r=uc(),[o,a]=m.exports.useState(n),i=m.exports.useMemo(()=>r.forNamespace("desk-tool"),[r]),s=m.exports.useMemo(()=>e?i.forNamespace(e).forKey(t):i.forKey(t),[i,e,t]);m.exports.useEffect(()=>{const c=s.listen(n).subscribe({next:a});return()=>c==null?void 0:c.unsubscribe()},[n,t,e,s]);const l=m.exports.useCallback(c=>{a(c),s.set(c)},[s]);return m.exports.useMemo(()=>[o,l],[l,o])}const Xe={id:"parsed",title:"Parsed"},qe={id:"raw",title:"Raw JSON"},Fv=[Xe,qe],sn=Lu(1e3);function fl(e,t){const n=sn.get(e);return n===void 0?(sn.set(e,Array.isArray(t)||ke(t)),fl(e,t)):n}function Bv(e){const{path:t}=e,n=sn.get(t);n!==void 0&&sn.set(t,!n)}function pl(e){const t=window.getSelection();if(t){const n=document.createRange();t.removeAllRanges(),n.selectNodeContents(e),t.addRange(n)}}function na(e){pl(e.currentTarget)}function Nv(e){!(e.keyCode===65&&(e.metaKey||e.ctrlKey))||(e.preventDefault(),pl(e.currentTarget))}function zv(e){return ke(e)&&go(e._id)&&go(e._type)}const Uv=X.div(e=>{let{theme:t}=e;const{color:n,fonts:r,space:o}=t.sanity;return Me(Bi||(Bi=G([`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: `,`;
      font-size: `,`px;
      line-height: `,`px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: `,`;
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: `,`;
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '\u25B8 ';
      margin-left: calc(0 - `,` + 3px);
      font-size: `,`px;
      line-height: `,`px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '\u25BE ';
      font-size: `,`px;
      line-height: `,`px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: `,`;
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: `,`;
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: `,`;
    }

    & .json-inspector .json-inspector__value_string {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_number {
      color: `,`;
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '\u2194';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `])),r.code.family,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,ct(o[4]),ct(o[3]),ct(o[4]),r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,ct(o[4]/2),n.syntax.property,n.syntax.constant,ct(o[3]),n.syntax.string,n.syntax.boolean,n.syntax.number)});function Wv(e){const{onChange:t,query:n}=e,r=m.exports.useCallback(o=>t(o.target.value),[t]);return d(Au,{icon:Du,onChange:r,placeholder:"Search",radius:2,value:n||""})}function Hv(e){const{value:t}=e,{onInspectClose:n,paneKey:r}=J(),o="".concat(r,"_inspect_"),[a,i]=kv("desk-tool","inspect-view-preferred-view-mode-".concat(r),"parsed"),s=Fv.find(u=>u.id===a),l=m.exports.useCallback(()=>{i(Xe.id)},[i]),c=m.exports.useCallback(()=>{i(qe.id)},[i]);return d(Er,{id:"".concat(o,"dialog"),header:zv(t)?D(q,{children:["Inspecting"," ",d("em",{children:d(gu,{document:t})})]}):d("em",{children:"No value"}),onClose:n,width:3,children:D(H,{direction:"column",height:"fill",children:[d(xe,{padding:3,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:D(wa,{space:1,children:[d(Xn,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(Xe.id),label:Xe.title,onClick:l,selected:s===Xe}),d(Xn,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(qe.id),label:qe.title,onClick:c,selected:s===qe})]})}),D(yu,{"aria-labelledby":"".concat(o,"tab-").concat(a),flex:1,id:"".concat(o,"tabpanel"),overflow:"auto",padding:4,style:{outline:"none"},children:[s===Xe&&d(Uv,{children:d(ju,{data:t,isExpanded:fl,onClick:Bv,search:Wv})}),s===qe&&d(qn,{language:"json",tabIndex:0,onKeyDown:Nv,onDoubleClick:na,onFocus:na,children:JSON.stringify(t,null,2)})]})]})})}const Gv=X(xe)(Ni||(Ni=G([`
  position: relative;
  z-index: 50;
`]))),ra=X(F)(zi||(zi=G([`
  & > * {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
`]))),hl=m.exports.memo(()=>{var e,t,n,r,o,a;const i=dc(),{params:s,groupIndex:l,routerPanesState:c,replaceCurrent:u,BackLink:p}=_t(),h=(e=c[l])==null?void 0:e[0].id,f=c[l-1],v=f==null?void 0:f[0],g=v==null?void 0:v.id,P=Boolean((t=v==null?void 0:v.params)==null?void 0:t.rev),y=m.exports.useMemo(()=>(s==null?void 0:s.parentRefPath)&&bt(s.parentRefPath)||null,[s==null?void 0:s.parentRefPath]),b=pa(()=>{const w=y==null?void 0:y[0];if(!g||!w||!y)return Ve({loading:!1});const C=Yn(g),T=bt(w),I=T.findIndex(M=>typeof M=="object"&&"_key"in M);return Sa(Ve({loading:!0}),i.unstable_observePathsDocumentPair(C,I===-1?T:T.slice(0,I)).pipe(xa(750),Ue(M=>{let{draft:V,published:L}=M;var N;return{loading:!1,result:{availability:{draft:V.availability,published:L.availability},refValue:(N=Oc(V.snapshot||L.snapshot,y))==null?void 0:N._ref}}})))},[g,y],{loading:!0}),x=m.exports.useCallback(()=>{var w;b.loading||(w=b.result)!=null&&w.refValue&&u({id:b.result.refValue,params:s})},[b.loading,b.result,u,s]);return!g||!y||P||b.loading||!((n=b.result)!=null&&n.availability.draft.available)&&!((r=b.result)!=null&&r.availability.published.available)||((o=b.result)==null?void 0:o.refValue)===h?null:d(Gv,{shadow:1,tone:"caution","data-testid":"reference-changed-banner",children:d(Mt,{paddingX:4,paddingY:2,sizing:"border",width:1,children:D(H,{align:"center",children:[d(F,{size:1,children:d(Pr,{})}),(a=b.result)!=null&&a.refValue?D(q,{children:[d(k,{flex:1,marginLeft:3,children:d(ra,{title:"This reference has changed since you opened it.",size:1,children:"This reference has changed since you opened it."})}),d(k,{marginLeft:3,children:d(re,{onClick:x,icon:va,fontSize:1,mode:"ghost",padding:2,space:2,text:"Reload reference"})})]}):D(q,{children:[d(k,{flex:1,marginLeft:3,children:d(ra,{title:"This reference has been removed since you opened it.",size:1,children:"This reference has been removed since you opened it."})}),d(k,{marginLeft:3,children:d(re,{as:p,icon:xt,fontSize:1,mode:"ghost",padding:2,space:2,text:"Close reference"})})]})]})})})});hl.displayName="ReferenceChangedBanner";const Kv=X(xe)(Ui||(Ui=G([`
  position: relative;
  z-index: 50;
`])));function Yv(e){let{granted:t,requiredPermission:n}=e;var r,o;const a=bu(),i=((r=a==null?void 0:a.roles)==null?void 0:r.length)!==1,s=$v(((o=a==null?void 0:a.roles)==null?void 0:o.map(l=>d("code",{children:l.title},l.name)))||[],", ");return t?null:d(Kv,{"data-testid":"permission-check-banner",shadow:1,tone:"transparent",children:d(Mt,{paddingX:4,paddingY:3,sizing:"border",width:1,children:D(H,{align:"flex-start",children:[d(F,{size:1,children:d(xu,{})}),d(k,{flex:1,marginLeft:3,children:D(F,{size:1,children:["Your role",i&&"s"," ",s," ",i?"do":"does"," not have permissions to"," ",n," this document."]})})]})})})}function $v(e,t){return e.reduce((n,r)=>n===null?[r]:n.concat([t,r]),null)}function Xv(e){const t=m.exports.useRef();return m.exports.useEffect(()=>{t.current=e},[e]),t.current}const qv=1e3*60*60*24*24;function Zv(e){const t=cn(),n=Xv(e.enabled);m.exports.useEffect(()=>{!n&&e.enabled&&t.push(_(_({},e),{},{duration:qv})),n&&!e.enabled&&t.push(_(_({},e),{},{duration:.01}))},[e,t,n])}const Jv=e=>e.preventDefault();function Qv(e){var t;const{hidden:n,margins:r}=e,{collapsedFieldSets:o,collapsedPaths:a,displayed:i,editState:s,documentId:l,documentType:c,onChange:u,validation:p,ready:h,formState:f,onFocus:v,onBlur:g,onSetCollapsedPath:P,onPathOpen:y,onSetCollapsedFieldSet:b,onSetActiveFieldGroup:x}=J(),S=_a(),w=Pu(l),C=m.exports.useMemo(()=>Su(),[]),T=(t=s==null?void 0:s.transactionSyncLock)==null?void 0:t.enabled;Zv({id:"sync-lock-".concat(l),status:"warning",enabled:T,title:"Syncing document\u2026",description:"Please hold tight while the document is synced. This usually happens right after the document has been published, and it shouldn't take more than a few seconds"}),m.exports.useEffect(()=>{const M=S.pair.documentEvents(l,c).pipe(wu(V=>{V.type==="mutation"&&C.publish(eg(V)),V.type==="rebase"&&C.publish(tg(V))})).subscribe();return()=>{M.unsubscribe()}},[l,S,c,C]);const I=Boolean(i==null?void 0:i._rev);return m.exports.useEffect(()=>{I&&C.publish({type:"mutation",patches:[],snapshot:i})},[I]),d(Mt,{hidden:n,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:d(Cu,{margins:r,children:d(k,{as:"form",onSubmit:Jv,children:h?f===null?d(k,{padding:2,children:d(F,{children:"This form is hidden"})}):d(Tu,{__internal_patchChannel:C,collapsedFieldSets:o,collapsedPaths:a,focusPath:f.focusPath,changed:f.changed,focused:f.focused,groups:f.groups,id:"root",members:f.members,onChange:u,onFieldGroupSelect:x,onPathBlur:g,onPathFocus:v,onPathOpen:y,onSetFieldSetCollapsed:b,onSetPathCollapsed:P,presence:w,readOnly:f.readOnly,schemaType:f.schemaType,validation:p,value:f.value}):d(qr,{ms:300,children:D(H,{align:"center",direction:"column",height:"fill",justify:"center",children:[d(it,{muted:!0}),d(k,{marginTop:3,children:d(F,{align:"center",muted:!0,size:1,children:"Loading document"})})]})})})})})}function eg(e){const t=e.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:e.document,patches:Jn(e.origin,t)}}function tg(e){const t=e.remoteMutations.map(r=>r.patch).filter(Boolean),n=e.localMutations.map(r=>r.patch).filter(Boolean);return{type:"rebase",snapshot:e.document,patches:Jn("remote",t).concat(Jn("local",n))}}function ng(){const{activeViewId:e,paneKey:t,views:n}=J(),r="".concat(t,"tabpanel");return d(wa,{space:1,children:n.map((o,a)=>{var i;return d(rg,{icon:o.icon,id:"".concat(t,"tab-").concat(o.id),isActive:e===o.id,label:d(q,{children:o.title}),tabPanelId:r,viewId:a===0?null:(i=o.id)!=null?i:null},o.id)})})}function rg(e){const{icon:t,id:n,isActive:r,label:o,tabPanelId:a,viewId:i}=e,{ready:s}=J(),{setView:l}=_t(),c=m.exports.useCallback(()=>l(i),[l,i]);return d(Xn,{"aria-controls":a,disabled:!s,fontSize:1,icon:t,id:n,selected:r,label:o,onClick:c})}const Kn={error:{tone:"critical",icon:cu},warning:{tone:"caution",icon:Pr},info:{tone:"primary",icon:uu}};function og(e){const{boundaryElement:t,isOpen:n,setOpen:r}=e,{onFocus:o,onPathOpen:a,schemaType:i,validation:s}=J(),l=m.exports.useId(),c=s.length>0,u=s.some(Lc),p=s.some(jc),h=s.some(kc),f=m.exports.useMemo(()=>{if(u)return Kn.error;if(p)return Kn.warning;if(h)return Kn.info},[u,h,p]),v=m.exports.useCallback(()=>r(!1),[r]);return c?d(Ca,{id:l||"",button:d(re,_(_({},f),{},{title:"Show validation issues",mode:"bleed","data-testid":"validation-list-button"})),menu:d(br,{open:n,children:d(Fc,{documentType:i,validation:s,onClose:v,onFocus:a})}),popover:{portal:!0,boundaryElement:t,constrainSize:!0,preventOverflow:!0,width:0},placement:"bottom"}):null}function ig(){const{connectionState:e,schemaType:t,title:n,value:r}=J(),o=Boolean(r)&&e==="connected",{error:a,value:i}=Bc({enabled:o,schemaType:t,value:r});return e!=="connected"?d(q,{}):r?o?a?D(q,{children:["Error: ",a.message]}):d(q,{children:(i==null?void 0:i.title)||d("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):d(q,{children:n}):D(q,{children:["New ",(t==null?void 0:t.title)||(t==null?void 0:t.name)]})}const ag=e=>Boolean(e.showAsAction),sg=Le.exports.negate(ag),ml=m.exports.memo(m.exports.forwardRef((e,t)=>{let{rootElement:n}=e;const{onMenuAction:r,onPaneClose:o,onPaneSplit:a,historyController:i,validation:s,menuItems:l,menuItemGroups:c,schemaType:u,ready:p,views:h,unstable_languageFilter:f}=J(),{revTime:v}=i,{features:g}=He(),{index:P,BackLink:y,hasGroupSiblings:b}=_t(),x=m.exports.useMemo(()=>l.filter(sg),[l]),[S,w]=Oe.useState(!1),C=h.length>1,T=g.reviewChanges,I=g.splitViews&&a&&h.length>1,M=I&&b,V=!M&&!g.backButton;return d(dn,{ref:t,loading:!p,title:d(ig,{}),tabs:C&&d(ng,{}),backButton:g.backButton&&P>0&&d(re,{as:y,"data-as":"a",icon:fc,mode:"bleed"}),subActions:T&&d(dl,{chunk:v,mode:"rev",placement:"bottom-end"}),actions:D(ga,{space:1,children:[f.length>0&&d(q,{children:f.map((L,N)=>m.exports.createElement(L,{key:"language-filter-".concat(N),schemaType:u}))}),s.length>0&&d(og,{boundaryElement:n,isOpen:S,setOpen:w},"validation-menu"),d(pc,{itemGroups:c,items:x,onAction:r},"context-menu"),I&&d(re,{icon:hc,mode:"bleed",onClick:a,title:"Split pane right"},"split-pane-button"),M&&d(re,{icon:xt,mode:"bleed",onClick:o,title:"Close split pane"},"close-view-button"),V&&d(re,{icon:xt,mode:"bleed",title:"Close pane group",as:y},"close-view-button")]})})}));ml.displayName="DocumentPanelHeader";const lg=X(ma)(e=>{let{$disabled:t}=e;return t?{height:"100%"}:Me(Wi||(Wi=G([`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `])))}),cg=function(t){const{footerHeight:n,isInspectOpen:r,rootElement:o,setDocumentPanelPortalElement:a}=t,{activeViewId:i,displayed:s,documentId:l,editState:c,value:u,views:p,ready:h,schemaType:f,permissions:v,isPermissionsLoading:g}=J(),{collapsed:P}=Ia(),y=du(),{features:b}=He(),[x,S]=m.exports.useState(null),w=fn(x),C=m.exports.useRef(null),[T,I]=m.exports.useState(null),M=u._createdAt?"update":"create",V=m.exports.useMemo(()=>p.find(ee=>ee.id===i)||p[0]||{type:"form"},[i,p]),L=b.splitPanes&&C.current||y.element,N=m.exports.useMemo(()=>P?[(w==null?void 0:w.height)||0,0,n?n+2:2,0]:[0,0,2,0],[P,n,w]),j=V.type!=="form",B=m.exports.useMemo(()=>V.type==="component"&&V.component&&m.exports.createElement(V.component,{document:{draft:(c==null?void 0:c.draft)||null,displayed:s||u,historical:s,published:(c==null?void 0:c.published)||null},documentId:l,options:V.options,schemaType:f}),[V,s,l,c==null?void 0:c.draft,c==null?void 0:c.published,f,u]);m.exports.useEffect(()=>{!(T!=null&&T.scrollTo)||T.scrollTo(0,0)},[l,T]),m.exports.useEffect(()=>{L&&a(L)},[L,a]);const W=m.exports.useMemo(()=>r?d(Hv,{value:s||u}):null,[r,s,u]);return D(H,{direction:"column",flex:2,overflow:P?void 0:"hidden",children:[d(ml,{rootElement:o,ref:S}),d(It,{children:d(Sr,{element:L,__unstable_elements:{documentScrollElement:T},children:D(Tr,{element:T,children:[V.type==="form"&&!g&&h&&D(q,{children:[d(Yv,{granted:Boolean(v==null?void 0:v.granted),requiredPermission:M}),d(hl,{})]}),D(lg,{$disabled:P||!1,"data-testid":"document-panel-scroller",ref:I,children:[d(Qv,{hidden:j,margins:N},l+(h?"_ready":"_pending")),B]}),W,d("div",{"data-testid":"document-panel-portal",ref:C})]})})})]})},vl=["left","bottom"],ug={small:0,medium:1,large:2,full:"auto"};function dg(e){const{dialog:t,referenceElement:n}=e;return d(xr,{content:d(fg,{dialog:t}),fallbackPlacements:vl,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function fg(e){const{dialog:t}=e,{cancelButtonIcon:n,cancelButtonText:r,confirmButtonIcon:o,confirmButtonText:a,message:i,onCancel:s,onConfirm:l,tone:c}=t,{isTopLayer:u}=Da(),[p,h]=m.exports.useState(null),f=m.exports.useCallback(()=>{u&&s()},[u,s]),v=m.exports.useCallback(g=>{g.key==="Escape"&&u&&s()},[u,s]);return wr(f,[p]),Va(v),D(H,{direction:"column",ref:h,style:{minWidth:320-16,maxWidth:400},children:[d(k,{flex:1,overflow:"auto",padding:4,children:d(F,{children:i})}),d(k,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:D(Eu,{columns:2,gap:2,children:[d(re,{icon:n,onClick:s,mode:"ghost",text:r||"Cancel"}),d(re,{icon:o,onClick:l,text:a||"Confirm",tone:c})]})})]})}function pg(e){const{dialog:t}=e,n=m.exports.useId(),r=t.footer&&d(k,{paddingX:4,paddingY:3,children:t.footer});return d(Cr,{zOffset:"fullscreen",children:d(Er,{__unstable_hideCloseButton:t.showCloseButton===!1,footer:r,header:t.header,id:n,onClose:t.onClose,onClickOutside:t.onClose,width:t.width===void 0?1:ug[t.width],portal:"documentPanelPortalElement",children:d(k,{padding:4,children:t.content})})})}function hg(e){const{dialog:t,referenceElement:n}=e;return d(xr,{content:d(mg,{dialog:t}),fallbackPlacements:vl,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function mg(e){const{dialog:t}=e,{content:n,onClose:r}=t,{isTopLayer:o}=Da(),[a,i]=m.exports.useState(null),s=m.exports.useCallback(()=>{o&&r()},[o,r]),l=m.exports.useCallback(c=>{c.key==="Escape"&&o&&r()},[o,r]);return wr(s,[a]),Va(l),d("div",{ref:i,children:n})}function Jr(e){const{dialog:t,referenceElement:n=null}=e,r=m.exports.useId();if(t.type==="confirm")return d(dg,{dialog:t,referenceElement:n});if(t.type==="popover")return d(hg,{dialog:t,referenceElement:n});if(t.type==="dialog"||!t.type)return d(pg,{dialog:t});const o=t;return console.warn("Unsupported modal type ".concat(o.type)),d(Er,{id:r,onClose:o.onClose,onClickOutside:o.onClose,width:2,children:d(k,{padding:4,children:o.content||D(q,{children:["Unexpected modal type (",d("code",{children:o.type}),")"]})})})}function vg(e){const{actionStates:t,disabled:n}=e,r=m.exports.useId(),o=m.exports.useRef(null),[a,i]=m.exports.useState(-1),[s,l]=m.exports.useState(null),c=m.exports.useCallback(h=>{i(h)},[]),u=m.exports.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),p=t[a];return D(q,{children:[d(Ca,{id:"".concat(r,"-action-menu"),button:d(re,{"data-testid":"action-menu-button","aria-label":"Open document actions",disabled:n,icon:fu,mode:"ghost",ref:o}),menu:d(br,{padding:1,children:t.map((h,f)=>d(gg,{actionState:h,disabled:n,index:f,onAction:c},f))}),popover:u,ref:l}),p&&p.dialog&&d(Cr,{zOffset:"paneFooter",children:d(Jr,{dialog:p.dialog,referenceElement:s})})]})}function gg(e){const{actionState:t,disabled:n,index:r,onAction:o}=e,{onHandle:a}=t,i=m.exports.useCallback(()=>{o(r),a&&a()},[r,o,a]),s=t.title&&d(k,{padding:2,children:d(F,{size:1,children:t.title})});return d(ha,{"data-testid":"action-".concat(t.label.replace(" ","")),disabled:n||Boolean(t.disabled),onClick:i,padding:0,tone:t.tone,children:d(Rt,{content:s,disabled:!s,fallbackPlacements:["left","bottom"],placement:"top",portal:!0,children:D(H,{align:"center",paddingX:3,children:[D(H,{flex:1,paddingY:3,children:[t.icon&&d(k,{marginRight:3,children:D(F,{children:[m.exports.isValidElement(t.icon)&&t.icon,pu.exports.isValidElementType(t.icon)&&m.exports.createElement(t.icon)]})}),d(F,{children:t.label})]}),t.shortcut&&d(k,{marginLeft:3,children:d(Ta,{keys:String(t.shortcut).split("+").map(l=>l.slice(0,1).toUpperCase()+l.slice(1))})})]})})})}function gl(e){const{disabled:t,showMenu:n,states:r}=e,[o,...a]=r,[i,s]=m.exports.useState(null),l=m.exports.useMemo(()=>!o||!o.title&&!o.shortcut?null:D(H,{padding:2,style:{maxWidth:300},align:"center",children:[d(F,{size:1,children:o.title}),o.shortcut&&d(k,{marginLeft:o.title?2:0,children:d(Ta,{keys:String(o.shortcut).split("+").map(c=>c.slice(0,1).toUpperCase()+c.slice(1).toLowerCase())})})]}),[o]);return D(H,{children:[o&&d(Nc,{zOffset:200,children:d(Rt,{disabled:!l,content:l,portal:!0,placement:"top",children:d(ye,{flex:1,children:d(re,{"data-testid":"action-".concat(o.label),disabled:t||Boolean(o.disabled),icon:o.icon,onClick:o.onHandle,ref:s,text:o.label,tone:o.tone||"primary"})})})}),n&&a.length>0&&d(k,{marginLeft:1,children:d(vg,{actionStates:a,disabled:t})}),o&&o.dialog&&d(Jr,{dialog:o.dialog,referenceElement:i})]})}const yg=m.exports.memo(function(){const{actions:t,connectionState:n,editState:r}=J();return!t||!r?null:d(Zr,{actions:t,actionProps:r,children:o=>{let{states:a}=o;return d(gl,{disabled:n!=="connected",showMenu:t.length>1,states:a})}})}),bg=m.exports.memo(function(){var t;const{connectionState:n,editState:r,historyController:o}=J(),a=((t=o.revTime)==null?void 0:t.id)||"",i=((r==null?void 0:r.draft)||(r==null?void 0:r.published)||{})._rev===a,s=m.exports.useMemo(()=>_(_({},r||{}),{},{revision:a}),[r,a]),l=m.exports.useMemo(()=>[mc],[]);return d(Zr,{actions:l,actionProps:s,children:c=>{let{states:u}=c;return d(gl,{disabled:n!=="connected"||Boolean(i),showMenu:!1,states:u})}})}),xg={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function Pg(e){let{states:t}=e;return d(ga,{space:1,children:t.map((n,r)=>d(Rt,{content:n.title&&d(k,{padding:2,children:d(F,{size:1,children:n.title})}),disabled:!n.title,placement:"top",portal:!0,children:d(hu,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:n.color?xg[n.color]:void 0,style:{whiteSpace:"nowrap"},children:n.label})},String(r)))})}function Sg(){const{badges:e,editState:t}=J();return!t||!e?null:d(_m,{badges:e,badgeProps:t,children:n=>{let{states:r}=n;return d(Pg,{states:r})}})}const wg=X(H)(Hi||(Hi=G([`
  cursor: default;
`])));function Cg(e){const{collapsed:t,disabled:n,lastPublished:r,lastUpdated:o,liveEdit:a}=e,i=Re(r||"",{minimal:!0,agoSuffix:!0}),s=Re(r||"",{minimal:!0}),l=Re(o||"",{minimal:!0,agoSuffix:!0}),c=Re(o||"",{minimal:!0});return d(wg,{align:"center","data-ui":"SessionLayout",sizing:"border",children:d(Rt,{placement:"top",portal:!0,content:d(ye,{padding:3,space:3,children:d(F,{size:1,muted:!0,children:a?D(q,{children:["Last updated ",o?l:i]}):D(q,{children:["Last published ",i]})})}),children:d(re,{mode:"bleed",tone:a?"critical":"positive",tabIndex:-1,disabled:n,children:D(H,{align:"center",children:[d(k,{marginRight:t?0:3,children:d(F,{size:2,children:a?d(zc,{}):d(Ea,{})})}),!t&&d(F,{size:1,weight:"medium",children:a?d(q,{children:o?c:s}):s})]})})})})}const Tg=X(kt.path)(Gi||(Gi=G([`
  transform-origin: center;
`]))),Eg=e=>d(kt.circle,_({fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2"},e)),Ig=e=>d(Tg,_({fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811"},e)),_g=e=>d(kt.path,_({d:"M9.5 12.1316L11.7414 14.5L16 10"},e)),Mg=e=>d(kt.path,_({d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z"},e)),Rg=vc(Ki||(Ki=G([`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`]))),Ag=X.g(Yi||(Yi=G([`
  transform-origin: center;

  &[data-rotate] {
    animation: `,` 1s ease-in-out infinite;
  }
`])),Rg),Dg={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},Vg={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},Og={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},Lg={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}},jg={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:0,transition:{duration:0}},changes:{pathLength:1,transition:{duration:.4,delay:.5}}};function kg(e){const{status:t}=e;return t?d("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"",children:D(kt.g,{variants:Dg,initial:t,animate:t,children:[D(Ag,{"data-rotate":t==="changes"?void 0:"",children:[d(Ig,{variants:Og,initial:t,animate:t}),d(Eg,{variants:Vg,initial:t,animate:t})]}),d(_g,{variants:Lg,initial:t,animate:t}),d(Mg,{variants:jg,initial:t,animate:t})]})}):null}const Fg=Oe.forwardRef(function(t,n){const{collapsed:r,status:o,lastUpdated:a}=t,i=je(t,wm),s=Re(a||"",{minimal:!0}),l=Re(a||"",{minimal:!0,agoSuffix:!0}),c=m.exports.useMemo(()=>o==="syncing"?{text:"Saving...",tone:void 0}:o==="changes"?{text:s,tone:"caution"}:o==="saved"?{text:"Saved!",tone:"positive"}:{},[o,s]);return o?d(Rt,{placement:"top",portal:!0,disabled:o!=="changes",content:D(ye,{padding:3,space:3,children:[d(F,{size:1,weight:"semibold",children:"Review changes"}),D(F,{size:1,muted:!0,children:["Changes saved ",l]})]}),children:d(re,_(_({mode:"bleed",justify:"flex-start",tone:c==null?void 0:c.tone},i),{},{"data-testid":"review-changes-button",ref:n,children:D(H,{align:"center",children:[d(k,{marginRight:r?0:3,children:d(F,{children:d(kg,{status:o})})}),!r&&d(F,{size:1,weight:"medium",children:c==null?void 0:c.text})]})}))}):null}),Bg=Oe.memo(Fg),Ng=1e3,zg=3e3,Ug=m.exports.memo(function(){var t;const{changesOpen:n,documentId:r,documentType:o,editState:a,onHistoryClose:i,onHistoryOpen:s,historyController:l,value:c}=J(),u=gc(r,o),p=c==null?void 0:c._updatedAt,h=(t=a==null?void 0:a.published)==null?void 0:t._updatedAt,f=l.onOlderRevision(),v=Boolean(a==null?void 0:a.liveEdit),g=Boolean(a==null?void 0:a.published),P=Boolean(a==null?void 0:a.draft),[y,b]=m.exports.useState(null),x=fn(y),S=!x||(x==null?void 0:x.width)<300,[w,C]=m.exports.useState(null);m.exports.useEffect(()=>{if(w==="syncing"){const M=setTimeout(()=>C("saved"),Ng);return()=>clearTimeout(M)}if(w==="saved"){const M=setTimeout(()=>C(null),zg);return()=>clearTimeout(M)}},[w,p]),m.exports.useLayoutEffect(()=>{C(null)},[r]),m.exports.useLayoutEffect(()=>{u.isSyncing&&C("syncing")},[u.isSyncing,p]);const T=m.exports.useMemo(()=>d(Bg,{lastUpdated:p,status:w||(P?"changes":void 0),onClick:n?i:s,disabled:f,selected:n,collapsed:S}),[P,n,i,s,p,f,w,S]),I=m.exports.useMemo(()=>(v||g)&&d(k,{marginRight:1,children:d(Cg,{disabled:f,lastPublished:h,lastUpdated:p,liveEdit:v,collapsed:S})}),[S,h,p,v,g,f]);return D(H,{align:"center","data-ui":"DocumentSparkline",ref:b,children:[I,D(H,{align:"center",flex:1,children:[T,!S&&d(k,{marginLeft:3,children:d(Sg,{})})]})]})}),Wg=X(k)($i||($i=G([`
  min-width: 10em;
  max-width: 16em;
`])));function Hg(e){const{actionsBoxRef:t}=e,{badges:n,historyController:r}=J(),o=r.onOlderRevision();return m.exports.useMemo(()=>d(k,{paddingLeft:2,paddingRight:[2,3],paddingY:2,children:D(H,{align:"center",children:[d(k,{flex:[1,2],children:n&&d(Ug,{})}),d(Wg,{flex:1,marginLeft:[1,3],ref:t,children:o?d(bg,{}):d(yg,{})})]})}),[t,n,o])}function Gg(e){const{actionsBoxElement:t,activeIndex:n,children:r,id:o,onActionStart:a,onKeyDown:i,rootRef:s,states:l}=e,c=je(e,Cm),u=l[n],p=m.exports.useCallback(h=>{const f=l.filter(g=>g.shortcut&&yr(g.shortcut,h)),v=f[0];if(f.length>1&&console.warn('Keyboard shortcut conflict: More than one document action matches the shortcut "'.concat(v.shortcut,'"')),v&&!v.disabled&&v.onHandle){h.preventDefault(),v.onHandle(),a(l.indexOf(v));return}i&&i(h)},[a,i,l]);return D(ln,_(_({id:o,onKeyDown:p,tabIndex:-1},c),{},{ref:s,children:[r,u&&u.dialog&&d(Cr,{zOffset:"paneFooter",children:d(Jr,{dialog:u.dialog,referenceElement:t})})]}))}const yl=Oe.memo(e=>{const{actionsBoxElement:t,children:n}=e,r=je(e,Tm),{actions:o,editState:a}=J(),[i,s]=m.exports.useState(-1),l=m.exports.useCallback(u=>{s(u)},[]),c=m.exports.useMemo(()=>a&&_(_({},a),{},{onComplete:()=>{},revision:void 0}),[a]);return!c||!o?null:d(Zr,{actionProps:c,actions:o,children:u=>{let{states:p}=u;return d(Gg,_(_({},r),{},{activeIndex:i,actionsBoxElement:t,onActionStart:l,states:p,children:n}))}})});yl.displayName="DocumentActionShortcuts";const oa=320,ia=600,aa=320,sa=["fixed","absolute"],Kg=X(yc)(Xi||(Xi=G([`
  flex: 1;
  display: flex;
  min-height: 0;
  min-width: 0;
`]))),i0=m.exports.memo(function(t){const{name:n}=un();return d(ya,{name:t.pane.source||n,children:d(Yg,_({},t))})});function Yg(e){var t;const{pane:n,paneKey:r}=e,{resolveNewDocumentOptions:o}=un().document,a=_t(),i=$g(n.options,a.params),{documentType:s,isLoaded:l}=bc(i.id,i.type),c=m.exports.useMemo(()=>o({type:"global"}),[o]),[u,p]=xc({templateItems:c}),h=l&&!p,f=m.exports.useMemo(()=>h&&s&&i.type!==s?Xg(e,i,s):e,[e,s,h,i]),{ReferenceChildLink:v,handleEditReference:g,groupIndex:P,routerPanesState:y}=a,b=((t=y[P+1])==null?void 0:t[0].params)||{},x=y.length,{parentRefPath:S}=b,w=m.exports.useMemo(()=>S?{path:bt(S),state:P>=x-1?"none":P>=x-2?"selected":"pressed"}:{path:[],state:"none"},[S,P,x]);return i.type==="*"&&!h?d(wn,{flex:2.5,minWidth:320,paneKey:r,title:"Loading document\u2026"}):s?d(ul,_(_({},f),{},{children:d(Uc,{EditReferenceLinkComponent:v,onEditReference:g,initialValueTemplateItems:u,activePath:w,children:d(qg,{})})})):d(cl,{flex:2.5,minWidth:320,paneKey:r,title:d(q,{children:"The document was not found"}),children:d(ye,{space:4,children:D(F,{as:"p",children:["The document type is not defined, and a document with the ",d("code",{children:i.id})," ","identifier could not be found."]})})})}function $g(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=da();return m.exports.useMemo(()=>{if(e.type&&e.type!=="*")return e;const r=e.template||t.template,o=r?n.find(i=>i.id===r):void 0,a=o==null?void 0:o.schemaType;return a?_(_({},e),{},{type:a}):e},[e,t.template,n])}function Xg(e,t,n){return _(_({},e),{},{pane:_(_({},e.pane),{},{options:_(_({},t),{},{type:n})})})}function qg(){const{changesOpen:e,documentType:t,onFocus:n,onPathOpen:r,onHistoryOpen:o,onKeyUp:a,inspectOpen:i,paneKey:s,schemaType:l,value:c}=J(),{features:u}=He(),{collapsed:p}=Ia(),h=Wc(),[f,v]=m.exports.useState(null),[g,P]=m.exports.useState(null),[y,b]=m.exports.useState(null),[x,S]=m.exports.useState(null),w=fn(g),C=w==null?void 0:w.height,T=m.exports.useMemo(()=>d(cg,{footerHeight:C||null,isInspectOpen:i,rootElement:f,setDocumentPanelPortalElement:S}),[C,f,i]),I=m.exports.useMemo(()=>d(Sr,{__unstable_elements:{documentPanelPortalElement:x},children:d(ho,{position:sa,zOffset:h.portal,children:d(Hc,{ref:P,children:d(Hg,{actionsBoxRef:b})})})}),[x,h.portal]),M=m.exports.useMemo(()=>!u.reviewChanges||!e?null:d(Tr,{element:f,children:d(Lv,{})}),[e,u.reviewChanges,f]),V=m.exports.useCallback(B=>{r(B),n(B)},[r,n]),L=m.exports.useMemo(()=>l?D(q,{children:[d(ho,{position:sa,zOffset:h.portal,children:d(H,{direction:"column",flex:1,height:p?void 0:"fill",children:D(Kg,{"data-testid":"change-connector-root",isReviewChangesOpen:e,onOpenReviewChanges:o,onSetFocus:V,children:[T,M]})})}),I,d(sv,{})]}):d(cl,{flex:2.5,minWidth:320,paneKey:s,title:D(q,{children:["Unknown document type: ",d("code",{children:t})]}),tone:"caution",children:D(ye,{space:4,children:[t&&D(F,{as:"p",children:["This document has the schema type ",d("code",{children:t}),", which is not defined as a type in the local content studio schema."]}),!t&&d(F,{as:"p",children:"This document does not exist, and no schema type was specified for it."}),fa]})}),[l,h.portal,p,e,o,V,T,M,I,s,t,c]),N=e?ia+aa:ia,j=e?oa+aa:oa;return d(yl,{actionsBoxElement:y,currentMinWidth:N,"data-testid":"document-pane",flex:2.5,id:s,minWidth:j,onKeyUp:a,rootRef:v,children:L})}function Zg(){return d(xe,{height:"fill",children:d(H,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:d(Mt,{width:0,children:d(xe,{padding:4,radius:2,shadow:1,tone:"caution",children:D(H,{children:[d(k,{children:d(F,{size:1,children:d(Pr,{})})}),D(ye,{flex:1,marginLeft:3,space:3,children:[d(F,{as:"h1",size:1,weight:"bold",children:"No document types"}),d(F,{as:"p",muted:!0,size:1,children:"Please define at least one document type in your schema."}),d(F,{as:"p",muted:!0,size:1,children:d("a",{href:"https://beta.sanity.io/docs/platform/studio/config",target:"_blank",rel:"noreferrer",children:"Learn how to add a document type \u2192"})})]})]})})})})})}const Jg=X(Lm)(qi||(qi=G([`
  min-height: 100%;
  min-width: 320px;
`]))),Qg=yr("mod+s"),e0=m.exports.memo(function(t){let{onPaneChange:n}=t;var r;const{navigate:o}=At(),{push:a}=cn(),i=ua(),s=Pc(),{layoutCollapsed:l,setLayoutCollapsed:c}=He(),{paneDataItems:u,resolvedPanes:p,routerPanes:h}=Gm(),[f,v]=m.exports.useState(null),g=m.exports.useCallback(()=>c(!0),[c]),P=m.exports.useCallback(()=>c(!1),[c]);return m.exports.useEffect(()=>{p.length&&n(p)},[n,p]),m.exports.useEffect(()=>{if(s>1||!l||!h.some(S=>S.length>1))return;const x=h.map(S=>[S[0]]);o({panes:x},{replace:!0})},[s,o,l,h]),m.exports.useEffect(()=>{const b=x=>{Qg(x)&&(x.preventDefault(),a({closable:!0,id:"auto-save-message",status:"info",title:"Your work is automatically saved!",duration:4e3}))};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[a]),((r=i._original)==null?void 0:r.types.some(Sc))?D(Sr,{element:f||null,children:[d(Jg,{flex:1,height:l?void 0:"fill",minWidth:512,onCollapse:g,onExpand:P,children:u.map(b=>{let{active:x,childItemId:S,groupIndex:w,itemId:C,key:T,pane:I,index:M,params:V,path:L,payload:N,siblingIndex:j,selected:B}=b;return d(m.exports.Fragment,{children:I===$n?d(wn,{paneKey:T,path:L,selected:B}):d(rv,{active:x,groupIndex:w,index:M,pane:I,childItemId:S,itemId:C,paneKey:T,params:V,payload:N,selected:B,siblingIndex:j})},"".concat(I===$n?"loading":I.type,"-").concat(M))})}),d("div",{"data-portal":"",ref:v})]}):d(Zg,{})}),t0={};function n0(e){let{tool:{options:t}}=e;const{unstable_sources:n}=Gc(),[r]=n,{source:o,defaultDocumentNode:a,structure:i}=t||{},{state:s}=At(),l=m.exports.useMemo(()=>{const p=typeof s.intent=="string"?s.intent:void 0,h=ke(s.params)?s.params:t0,f=s.payload;return p?{intent:p,params:h,payload:f}:void 0},[s]);m.exports.useEffect(()=>(Vn([]),()=>Vn([])),[]);const[{error:c},u]=m.exports.useState({error:null});return c?d(Zm,{error:c}):d(Kc,{onCatch:u,children:d(ya,{name:o||r.name,children:d(Yc,{defaultDocumentNode:a,structure:i,children:l?d($m,_({},l)):d(e0,{onPaneChange:Vn})})})})}var a0=Object.freeze({__proto__:null,default:n0});export{i0 as D,ul as a,qr as b,kv as c,a0 as i,He as u};
